/*! obs-upload-checkpoint version 1.0.0 */
import t from"lodash-es";import e from"axios";import r from"esdk-obs-browserjs";function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},i=o,a=function(t){return Object(i(t))},c={}.hasOwnProperty,u=function(t,e){return c.call(t,e)},s={}.toString,l=function(t){return s.call(t).slice(8,-1)},f=l,p=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==f(t)?t.split(""):Object(t)},h=p,v=o,y=function(t){return h(v(t))},d=Math.ceil,g=Math.floor,b=function(t){return isNaN(t=+t)?0:(t>0?g:d)(t)},m=b,x=Math.min,O=function(t){return t>0?x(m(t),9007199254740991):0},w=b,S=Math.max,k=Math.min,j=y,P=O,_=function(t,e){return(t=w(t))<0?S(t+e,0):k(t,e)},E={exports:{}},I={exports:{}},F=I.exports={version:"2.6.12"};"number"==typeof __e&&(__e=F);var N={exports:{}},A=N.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=A);var L=I.exports,T=N.exports,K=T["__core-js_shared__"]||(T["__core-js_shared__"]={});(E.exports=function(t,e){return K[t]||(K[t]=void 0!==e?e:{})})("versions",[]).push({version:L.version,mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"});var C,M=0,R=Math.random(),B=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++M+R).toString(36))},D=E.exports("keys"),U=B,V=function(t){return D[t]||(D[t]=U(t))},G=u,J=y,H=(C=!1,function(t,e,r){var n,o=j(t),i=P(o.length),a=_(r,i);if(C&&e!=e){for(;i>a;)if((n=o[a++])!=n)return!0}else for(;i>a;a++)if((C||a in o)&&o[a]===e)return C||a||0;return!C&&-1}),z=V("IE_PROTO"),W=function(t,e){var r,n=J(t),o=0,i=[];for(r in n)r!=z&&G(n,r)&&i.push(r);for(;e.length>o;)G(n,r=e[o++])&&(~H(i,r)||i.push(r));return i},Y="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),q=W,$=Y,Q=Object.keys||function(t){return q(t,$)},X={},Z=function(t){return"object"==typeof t?null!==t:"function"==typeof t},tt=Z,et=function(t){if(!tt(t))throw TypeError(t+" is not an object!");return t},rt=function(t){try{return!!t()}catch(t){return!0}},nt=!rt((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),ot=Z,it=N.exports.document,at=ot(it)&&ot(it.createElement),ct=function(t){return at?it.createElement(t):{}},ut=!nt&&!rt((function(){return 7!=Object.defineProperty(ct("div"),"a",{get:function(){return 7}}).a})),st=Z,lt=function(t,e){if(!st(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!st(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!st(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!st(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},ft=et,pt=ut,ht=lt,vt=Object.defineProperty;X.f=nt?Object.defineProperty:function(t,e,r){if(ft(t),e=ht(e,!0),ft(r),pt)try{return vt(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t};var yt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},dt=X,gt=yt,bt=nt?function(t,e,r){return dt.f(t,e,gt(1,r))}:function(t,e,r){return t[e]=r,t},mt={exports:{}},xt=E.exports("native-function-to-string",Function.toString),Ot=N.exports,wt=bt,St=u,kt=B("src"),jt=xt,Pt=(""+jt).split("toString");I.exports.inspectSource=function(t){return jt.call(t)},(mt.exports=function(t,e,r,n){var o="function"==typeof r;o&&(St(r,"name")||wt(r,"name",e)),t[e]!==r&&(o&&(St(r,kt)||wt(r,kt,t[e]?""+t[e]:Pt.join(String(e)))),t===Ot?t[e]=r:n?t[e]?t[e]=r:wt(t,e,r):(delete t[e],wt(t,e,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[kt]||jt.call(this)}));var _t=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},Et=_t,It=function(t,e,r){if(Et(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},Ft=N.exports,Nt=I.exports,At=bt,Lt=mt.exports,Tt=It,Kt=function(t,e,r){var n,o,i,a,c=t&Kt.F,u=t&Kt.G,s=t&Kt.S,l=t&Kt.P,f=t&Kt.B,p=u?Ft:s?Ft[e]||(Ft[e]={}):(Ft[e]||{}).prototype,h=u?Nt:Nt[e]||(Nt[e]={}),v=h.prototype||(h.prototype={});for(n in u&&(r=e),r)i=((o=!c&&p&&void 0!==p[n])?p:r)[n],a=f&&o?Tt(i,Ft):l&&"function"==typeof i?Tt(Function.call,i):i,p&&Lt(p,n,i,t&Kt.U),h[n]!=i&&At(h,n,a),l&&v[n]!=i&&(v[n]=i)};Ft.core=Nt,Kt.F=1,Kt.G=2,Kt.S=4,Kt.P=8,Kt.B=16,Kt.W=32,Kt.U=64,Kt.R=128;var Ct=Kt,Mt=Ct,Rt=I.exports,Bt=rt,Dt=function(t,e){var r=(Rt.Object||{})[t]||Object[t],n={};n[t]=e(r),Mt(Mt.S+Mt.F*Bt((function(){r(1)})),"Object",n)},Ut=a,Vt=Q;Dt("keys",(function(){return function(t){return Vt(Ut(t))}}));var Gt={exports:{}},Jt=B("meta"),Ht=Z,zt=u,Wt=X.f,Yt=0,qt=Object.isExtensible||function(){return!0},$t=!rt((function(){return qt(Object.preventExtensions({}))})),Qt=function(t){Wt(t,Jt,{value:{i:"O"+ ++Yt,w:{}}})},Xt=Gt.exports={KEY:Jt,NEED:!1,fastKey:function(t,e){if(!Ht(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!zt(t,Jt)){if(!qt(t))return"F";if(!e)return"E";Qt(t)}return t[Jt].i},getWeak:function(t,e){if(!zt(t,Jt)){if(!qt(t))return!0;if(!e)return!1;Qt(t)}return t[Jt].w},onFreeze:function(t){return $t&&Xt.NEED&&qt(t)&&!zt(t,Jt)&&Qt(t),t}},Zt={exports:{}},te=E.exports("wks"),ee=B,re=N.exports.Symbol,ne="function"==typeof re;(Zt.exports=function(t){return te[t]||(te[t]=ne&&re[t]||(ne?re:ee)("Symbol."+t))}).store=te;var oe=X.f,ie=u,ae=Zt.exports("toStringTag"),ce=function(t,e,r){t&&!ie(t=r?t:t.prototype,ae)&&oe(t,ae,{configurable:!0,value:e})},ue={};ue.f=Zt.exports;var se=N.exports,le=I.exports,fe=ue,pe=X.f,he={};he.f=Object.getOwnPropertySymbols;var ve={};ve.f={}.propertyIsEnumerable;var ye=Q,de=he,ge=ve,be=l,me=Array.isArray||function(t){return"Array"==be(t)},xe=X,Oe=et,we=Q,Se=nt?Object.defineProperties:function(t,e){Oe(t);for(var r,n=we(e),o=n.length,i=0;o>i;)xe.f(t,r=n[i++],e[r]);return t},ke=N.exports.document,je=ke&&ke.documentElement,Pe=et,_e=Se,Ee=Y,Ie=V("IE_PROTO"),Fe=function(){},Ne=function(){var t,e=ct("iframe"),r=Ee.length;for(e.style.display="none",je.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Ne=t.F;r--;)delete Ne.prototype[Ee[r]];return Ne()},Ae=Object.create||function(t,e){var r;return null!==t?(Fe.prototype=Pe(t),r=new Fe,Fe.prototype=null,r[Ie]=t):r=Ne(),void 0===e?r:_e(r,e)},Le={},Te={},Ke=W,Ce=Y.concat("length","prototype");Te.f=Object.getOwnPropertyNames||function(t){return Ke(t,Ce)};var Me=y,Re=Te.f,Be={}.toString,De="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Le.f=function(t){return De&&"[object Window]"==Be.call(t)?function(t){try{return Re(t)}catch(t){return De.slice()}}(t):Re(Me(t))};var Ue={},Ve=ve,Ge=yt,Je=y,He=lt,ze=u,We=ut,Ye=Object.getOwnPropertyDescriptor;Ue.f=nt?Ye:function(t,e){if(t=Je(t),e=He(e,!0),We)try{return Ye(t,e)}catch(t){}if(ze(t,e))return Ge(!Ve.f.call(t,e),t[e])};var qe=N.exports,$e=u,Qe=nt,Xe=Ct,Ze=mt.exports,tr=Gt.exports.KEY,er=rt,rr=E.exports,nr=ce,or=B,ir=Zt.exports,ar=ue,cr=function(t){var e=le.Symbol||(le.Symbol=se.Symbol||{});"_"==t.charAt(0)||t in e||pe(e,t,{value:fe.f(t)})},ur=function(t){var e=ye(t),r=de.f;if(r)for(var n,o=r(t),i=ge.f,a=0;o.length>a;)i.call(t,n=o[a++])&&e.push(n);return e},sr=me,lr=et,fr=Z,pr=a,hr=y,vr=lt,yr=yt,dr=Ae,gr=Le,br=Ue,mr=he,xr=X,Or=Q,wr=br.f,Sr=xr.f,kr=gr.f,jr=qe.Symbol,Pr=qe.JSON,_r=Pr&&Pr.stringify,Er=ir("_hidden"),Ir=ir("toPrimitive"),Fr={}.propertyIsEnumerable,Nr=rr("symbol-registry"),Ar=rr("symbols"),Lr=rr("op-symbols"),Tr=Object.prototype,Kr="function"==typeof jr&&!!mr.f,Cr=qe.QObject,Mr=!Cr||!Cr.prototype||!Cr.prototype.findChild,Rr=Qe&&er((function(){return 7!=dr(Sr({},"a",{get:function(){return Sr(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=wr(Tr,e);n&&delete Tr[e],Sr(t,e,r),n&&t!==Tr&&Sr(Tr,e,n)}:Sr,Br=function(t){var e=Ar[t]=dr(jr.prototype);return e._k=t,e},Dr=Kr&&"symbol"==typeof jr.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof jr},Ur=function(t,e,r){return t===Tr&&Ur(Lr,e,r),lr(t),e=vr(e,!0),lr(r),$e(Ar,e)?(r.enumerable?($e(t,Er)&&t[Er][e]&&(t[Er][e]=!1),r=dr(r,{enumerable:yr(0,!1)})):($e(t,Er)||Sr(t,Er,yr(1,{})),t[Er][e]=!0),Rr(t,e,r)):Sr(t,e,r)},Vr=function(t,e){lr(t);for(var r,n=ur(e=hr(e)),o=0,i=n.length;i>o;)Ur(t,r=n[o++],e[r]);return t},Gr=function(t){var e=Fr.call(this,t=vr(t,!0));return!(this===Tr&&$e(Ar,t)&&!$e(Lr,t))&&(!(e||!$e(this,t)||!$e(Ar,t)||$e(this,Er)&&this[Er][t])||e)},Jr=function(t,e){if(t=hr(t),e=vr(e,!0),t!==Tr||!$e(Ar,e)||$e(Lr,e)){var r=wr(t,e);return!r||!$e(Ar,e)||$e(t,Er)&&t[Er][e]||(r.enumerable=!0),r}},Hr=function(t){for(var e,r=kr(hr(t)),n=[],o=0;r.length>o;)$e(Ar,e=r[o++])||e==Er||e==tr||n.push(e);return n},zr=function(t){for(var e,r=t===Tr,n=kr(r?Lr:hr(t)),o=[],i=0;n.length>i;)!$e(Ar,e=n[i++])||r&&!$e(Tr,e)||o.push(Ar[e]);return o};Kr||(Ze((jr=function(){if(this instanceof jr)throw TypeError("Symbol is not a constructor!");var t=or(arguments.length>0?arguments[0]:void 0),e=function(r){this===Tr&&e.call(Lr,r),$e(this,Er)&&$e(this[Er],t)&&(this[Er][t]=!1),Rr(this,t,yr(1,r))};return Qe&&Mr&&Rr(Tr,t,{configurable:!0,set:e}),Br(t)}).prototype,"toString",(function(){return this._k})),br.f=Jr,xr.f=Ur,Te.f=gr.f=Hr,ve.f=Gr,mr.f=zr,Qe&&Ze(Tr,"propertyIsEnumerable",Gr,!0),ar.f=function(t){return Br(ir(t))}),Xe(Xe.G+Xe.W+Xe.F*!Kr,{Symbol:jr});for(var Wr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Yr=0;Wr.length>Yr;)ir(Wr[Yr++]);for(var qr=Or(ir.store),$r=0;qr.length>$r;)cr(qr[$r++]);Xe(Xe.S+Xe.F*!Kr,"Symbol",{for:function(t){return $e(Nr,t+="")?Nr[t]:Nr[t]=jr(t)},keyFor:function(t){if(!Dr(t))throw TypeError(t+" is not a symbol!");for(var e in Nr)if(Nr[e]===t)return e},useSetter:function(){Mr=!0},useSimple:function(){Mr=!1}}),Xe(Xe.S+Xe.F*!Kr,"Object",{create:function(t,e){return void 0===e?dr(t):Vr(dr(t),e)},defineProperty:Ur,defineProperties:Vr,getOwnPropertyDescriptor:Jr,getOwnPropertyNames:Hr,getOwnPropertySymbols:zr});var Qr=er((function(){mr.f(1)}));Xe(Xe.S+Xe.F*Qr,"Object",{getOwnPropertySymbols:function(t){return mr.f(pr(t))}}),Pr&&Xe(Xe.S+Xe.F*(!Kr||er((function(){var t=jr();return"[null]"!=_r([t])||"{}"!=_r({a:t})||"{}"!=_r(Object(t))}))),"JSON",{stringify:function(t){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=e=n[1],(fr(e)||void 0!==t)&&!Dr(t))return sr(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Dr(e))return e}),n[1]=e,_r.apply(Pr,n)}}),jr.prototype[Ir]||bt(jr.prototype,Ir,jr.prototype.valueOf),nr(jr,"Symbol"),nr(Math,"Math",!0),nr(qe.JSON,"JSON",!0);var Xr=Z,Zr=me,tn=Zt.exports("species"),en=function(t){var e;return Zr(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Zr(e.prototype)||(e=void 0),Xr(e)&&null===(e=e[tn])&&(e=void 0)),void 0===e?Array:e},rn=It,nn=p,on=a,an=O,cn=function(t,e){return new(en(t))(e)},un=function(t,e){var r=1==t,n=2==t,o=3==t,i=4==t,a=6==t,c=5==t||a,u=e||cn;return function(e,s,l){for(var f,p,h=on(e),v=nn(h),y=rn(s,l,3),d=an(v.length),g=0,b=r?u(e,d):n?u(e,0):void 0;d>g;g++)if((c||g in v)&&(p=y(f=v[g],g,h),t))if(r)b[g]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return g;case 2:b.push(f)}else if(i)return!1;return a?-1:o||i?i:b}},sn=rt,ln=function(t,e){return!!t&&sn((function(){e?t.call(null,(function(){}),1):t.call(null)}))},fn=Ct,pn=un(2);fn(fn.P+fn.F*!ln([].filter,!0),"Array",{filter:function(t){return pn(this,t,arguments[1])}});var hn=y,vn=Ue.f;Dt("getOwnPropertyDescriptor",(function(){return function(t,e){return vn(hn(t),e)}}));var yn=Te,dn=he,gn=et,bn=N.exports.Reflect,mn=bn&&bn.ownKeys||function(t){var e=yn.f(gn(t)),r=dn.f;return r?e.concat(r(t)):e},xn=X,On=yt,wn=mn,Sn=y,kn=Ue,jn=function(t,e,r){e in t?xn.f(t,e,On(0,r)):t[e]=r};Ct(Ct.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=Sn(t),o=kn.f,i=wn(n),a={},c=0;i.length>c;)void 0!==(r=o(n,e=i[c++]))&&jn(a,e,r);return a}});var Pn,_n={exports:{}};(Pn=_n).exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},Pn.exports.__esModule=!0,Pn.exports.default=Pn.exports;var En=n(_n.exports),In={exports:{}},Fn={exports:{}};!function(t){t.exports=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o},t.exports.__esModule=!0,t.exports.default=t.exports}(Fn),function(t){var e=Fn.exports;t.exports=function(t,r){if(null==t)return{};var n,o,i=e(t,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i},t.exports.__esModule=!0,t.exports.default=t.exports}(In);var Nn=n(In.exports),An={exports:{}};!function(t){function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}(An);var Ln=n(An.exports),Tn=Ct,Kn=un(1);Tn(Tn.P+Tn.F*!ln([].map,!0),"Array",{map:function(t){return Kn(this,t,arguments[1])}});var Cn={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(t,e,r){var n=f;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===v){if("throw"===o)throw i;return F()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=j(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?v:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",y={};function d(){}function g(){}function b(){}var m={};u(m,i,(function(){return this}));var x=Object.getPrototypeOf,O=x&&x(x(I([])));O&&O!==r&&n.call(O,i)&&(m=O);var w=b.prototype=d.prototype=Object.create(m);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function j(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:F}}function F(){return{value:e,done:!0}}return g.prototype=b,u(w,"constructor",b),u(b,"constructor",g),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=I,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(Cn);var Mn=Cn.exports,Rn={exports:{}};!function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}(Rn);var Bn=n(Rn.exports),Dn={exports:{}};!function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(Dn);var Un=n(Dn.exports),Vn=Zt.exports("unscopables"),Gn=Array.prototype;null==Gn[Vn]&&bt(Gn,Vn,{});var Jn=function(t){Gn[Vn][t]=!0},Hn=Ct,zn=un(5),Wn=!0;"find"in[]&&Array(1).find((function(){Wn=!1})),Hn(Hn.P+Hn.F*Wn,"Array",{find:function(t){return zn(this,t,arguments.length>1?arguments[1]:void 0)}}),Jn("find");var Yn=Z,qn=et,$n=function(t,e){if(qn(t),!Yn(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Qn={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return $n(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:$n},Xn=Z,Zn=Qn.set,to=Ct,eo=o,ro=rt,no="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",oo="["+no+"]",io=RegExp("^"+oo+oo+"*"),ao=RegExp(oo+oo+"*$"),co=function(t,e,r){var n={},o=ro((function(){return!!no[t]()||"​"!="​"[t]()})),i=n[t]=o?e(uo):no[t];r&&(n[r]=i),to(to.P+to.F*o,"String",n)},uo=co.trim=function(t,e){return t=String(eo(t)),1&e&&(t=t.replace(io,"")),2&e&&(t=t.replace(ao,"")),t},so=co,lo=N.exports,fo=u,po=l,ho=function(t,e,r){var n,o=e.constructor;return o!==r&&"function"==typeof o&&(n=o.prototype)!==r.prototype&&Xn(n)&&Zn&&Zn(t,n),t},vo=lt,yo=rt,go=Te.f,bo=Ue.f,mo=X.f,xo=so.trim,Oo=lo.Number,wo=Oo,So=Oo.prototype,ko="Number"==po(Ae(So)),jo="trim"in String.prototype,Po=function(t){var e=vo(t,!1);if("string"==typeof e&&e.length>2){var r,n,o,i=(e=jo?e.trim():xo(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var a,c=e.slice(2),u=0,s=c.length;u<s;u++)if((a=c.charCodeAt(u))<48||a>o)return NaN;return parseInt(c,n)}}return+e};if(!Oo(" 0o1")||!Oo("0b1")||Oo("+0x1")){Oo=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof Oo&&(ko?yo((function(){So.valueOf.call(r)})):"Number"!=po(r))?ho(new wo(Po(e)),r,Oo):Po(e)};for(var _o,Eo=nt?go(wo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Io=0;Eo.length>Io;Io++)fo(wo,_o=Eo[Io])&&!fo(Oo,_o)&&mo(Oo,_o,bo(wo,_o));Oo.prototype=So,So.constructor=Oo,mt.exports(lo,"Number",Oo)}var Fo={exports:{}};!function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Fo);var No=n(Fo.exports),Ao=X.f,Lo=Function.prototype,To=/^\s*function ([^ (]*)/;"name"in Lo||nt&&Ao(Lo,"name",{configurable:!0,get:function(){try{return(""+this).match(To)[1]}catch(t){return""}}});var Ko,Co,Mo=Z,Ro=l,Bo=Zt.exports("match"),Do=et,Uo=_t,Vo=Zt.exports("species"),Go=function(t,e){var r,n=Do(t).constructor;return void 0===n||null==(r=Do(n)[Vo])?e:Uo(r)},Jo=b,Ho=o,zo=function(t){return function(e,r){var n,o,i=String(Ho(e)),a=Jo(r),c=i.length;return a<0||a>=c?t?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):n:t?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},Wo=zo(!0),Yo=l,qo=Zt.exports("toStringTag"),$o="Arguments"==Yo(function(){return arguments}()),Qo=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),qo))?r:$o?Yo(e):"Object"==(n=Yo(e))&&"function"==typeof e.callee?"Arguments":n},Xo=Qo,Zo=RegExp.prototype.exec,ti=et,ei=function(){var t=ti(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},ri=RegExp.prototype.exec,ni=String.prototype.replace,oi=ri,ii=(Ko=/a/,Co=/b*/g,ri.call(Ko,"a"),ri.call(Co,"a"),0!==Ko.lastIndex||0!==Co.lastIndex),ai=void 0!==/()??/.exec("")[1];(ii||ai)&&(oi=function(t){var e,r,n,o,i=this;return ai&&(r=new RegExp("^"+i.source+"$(?!\\s)",ei.call(i))),ii&&(e=i.lastIndex),n=ri.call(i,t),ii&&n&&(i.lastIndex=i.global?n.index+n[0].length:e),ai&&n&&n.length>1&&ni.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n});var ci=oi;Ct({target:"RegExp",proto:!0,forced:ci!==/./.exec},{exec:ci});var ui=mt.exports,si=bt,li=rt,fi=o,pi=Zt.exports,hi=ci,vi=pi("species"),yi=!li((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),di=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}(),gi=function(t){var e;return Mo(t)&&(void 0!==(e=t[Bo])?!!e:"RegExp"==Ro(t))},bi=et,mi=Go,xi=function(t,e,r){return e+(r?Wo(t,e).length:1)},Oi=O,wi=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==Xo(t))throw new TypeError("RegExp#exec called on incompatible receiver");return Zo.call(t,e)},Si=ci,ki=rt,ji=Math.min,Pi=[].push,_i=!ki((function(){RegExp(4294967295,"y")}));function Ei(t,e){var r=function(t){if(t instanceof File){var e=t.name;return e.substring(e.lastIndexOf(".")+1).toLowerCase()}throw new Error("传入的文件须是File对象")}(e),n=new Date,o=n.getFullYear(),i=n.getMonth()+1;i="".concat(i<10?0:"").concat(i);var a=n.getDate()+1;a="".concat(a<10?0:"").concat(a);var c=n.getTime(),u=Math.floor(1e6*Math.random()+1);return"".concat(t,"/").concat(o,"-").concat(i,"-").concat(a,"/").concat(c).concat(u,".").concat(r)}function Ii(t){var e=t.Bucket,r=t.Key,n=t.fileInstance,o=t.endPoint,i=e||n.Bucket,a=r||n.fileInfo.Key;return o=o||"obs.cn-east-3.myhuaweicloud.com","https://".concat(i,".").concat(o,"/").concat(a)}function Fi(t){var e=t.split("://")[1]||"",r=e.indexOf("/"),n=e.substring(r+1,e.length),o=e.substring(0,r),i=o.indexOf(".");return{Bucket:o.substring(0,i),Key:n,endPoint:o.substring(i+1,o.length)}}function Ni(t){var e=t.blob,r=t.fileName,n=t.fileUrl;try{if(r=r||function(t){var e=t.split("/"),r=e.length;return r>0?e[r-1]:""}(n)||"附件",e&&window.navigator.msSaveOrOpenBlob)return void navigator.msSaveOrOpenBlob(e,r);var o=document.createElement("a");o.href=e?window.URL.createObjectURL(new Blob([e])):n,o.download=r,o.click(),window.URL.revokeObjectURL(o.href)}catch(t){console.log("error",t)}}function Ai(t){var e={};return t.map((function(t){var r=Fi(t),n=r.Bucket,o=r.Key,i=r.endPoint,a="".concat(n,"-").concat(i);e[a]&&e[a].objects&&e[a].objects.length>0?e[a].objects.push({Key:o}):e[a]={Bucket:n,endPoint:i,objects:[{Key:o}]}})),e}!function(t,e,r){var n=pi(t),o=!li((function(){var e={};return e[n]=function(){return 7},7!=""[t](e)})),i=o?!li((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[vi]=function(){return r}),r[n](""),!e})):void 0;if(!o||!i||"replace"===t&&!yi||"split"===t&&!di){var a=/./[n],c=r(fi,n,""[t],(function(t,e,r,n,i){return e.exec===hi?o&&!i?{done:!0,value:a.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),u=c[0],s=c[1];ui(String.prototype,t,u),si(RegExp.prototype,n,2==e?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)})}}("split",2,(function(t,e,r,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!gi(t))return r.call(n,t,e);for(var o,i,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,l=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,u+"g");(o=Si.call(f,n))&&!((i=f.lastIndex)>s&&(c.push(n.slice(s,o.index)),o.length>1&&o.index<n.length&&Pi.apply(c,o.slice(1)),a=o[0].length,s=i,c.length>=l));)f.lastIndex===o.index&&f.lastIndex++;return s===n.length?!a&&f.test("")||c.push(""):c.push(n.slice(s)),c.length>l?c.slice(0,l):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var i=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,i,n):o.call(String(i),r,n)},function(t,e){var i=n(o,t,this,e,o!==r);if(i.done)return i.value;var a=bi(t),c=String(this),u=mi(a,RegExp),s=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(_i?"y":"g"),f=new u(_i?a:"^(?:"+a.source+")",l),p=void 0===e?4294967295:e>>>0;if(0===p)return[];if(0===c.length)return null===wi(f,c)?[c]:[];for(var h=0,v=0,y=[];v<c.length;){f.lastIndex=_i?v:0;var d,g=wi(f,_i?c:c.slice(v));if(null===g||(d=ji(Oi(f.lastIndex+(_i?0:v)),c.length))===h)v=xi(c,v,s);else{if(y.push(c.slice(h,v)),y.length===p)return y;for(var b=1;b<=g.length-1;b++)if(y.push(g[b]),y.length===p)return y;v=h=d}}return y.push(c.slice(h)),y}]}));var Li=["file","Bucket","module"],Ti=["file","Bucket","module"];function Ki(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ci(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t&&No(t)!==String)throw new Error("请传入你想要查询的字段名，并且参数为字符串");return e[t]||t}var Mi=Un((function t(e){var r,n=e.file,o=e.Bucket,i=e.module,a=Nn(e,Li);Bn(this,t);var c=Ei(i,n);this.Key=c,this.row=n;var u=n.name,s=n.size,l=n.type,f=n.uuid,p=a.resFileKey;if(this.fileInfo=(En(r={},Ci("id",p),f),En(r,Ci("name",p),u),En(r,Ci("size",p),s),En(r,Ci("type",p),l),En(r,Ci("percentage",p),0),En(r,Ci("Key",p),c),En(r,Ci("url",p),null),En(r,Ci("status",p),1),r),this.Bucket=o,this.module=i,this.resumeHook=null,this.uploadCheckpoint=null,this.changingStatus=!1,this.obsInited=!1,this.uploadStatus=!1,this.uploadCount=1,a)for(var h in a)Object.hasOwnProperty.call(a,h)&&(this[h]=a[h])}));function Ri(t){try{var e=t||{},r=e.resFileKey,n=void 0===r?{}:r,o=e.fileInfo,i=void 0===o?{}:o;if(0===Object.keys(n))return;for(var a in i){var c=null;for(var u in n)if(n[u]===a){c=a;break}c||delete i[a]}}catch(t){console.log("handleResKey-error",t)}}function Bi(t){var e=t.file,r=t.Bucket,n=t.module,o=void 0===n?"member_center":n,i=Nn(t,Ti);return new Mi(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ki(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ki(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:e,Bucket:r,module:o},i))}var Di=["file"];function Ui(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var Vi=function(){function t(){Bn(this,t),this.fileArr=[]}return Un(t,[{key:"addUploadingFile",value:function(t){var e=Bi(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ui(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ui(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:t.file},Nn(t,Di)));return this.fileArr.push(e),e}},{key:"getUploadingFiles",value:function(){return this.fileArr}},{key:"getFileInstance",value:function(t){return this.fileArr.find((function(e){return e.Key===t}))||{}}},{key:"delFileInstance",value:function(t){var e=-1,r=this.fileArr.find((function(r,n){if(r.Key===t)return e=n,r}))||{},n=r.fileInfo[Ci("status",r.resFileKey)];return 1===Number(n)&&(r.fileInfo[Ci("status",r.resFileKey)]=-1,r.resumeHook&&r.resumeHook.cancel()),e>=0&&this.fileArr.splice(e,1),e}}]),t}(),Gi=Qo,Ji={};Ji[Zt.exports("toStringTag")]="z",Ji+""!="[object z]"&&mt.exports(Object.prototype,"toString",(function(){return"[object "+Gi(this)+"]"}),!0);var Hi={exports:{}},zi=et,Wi={},Yi=Wi,qi=Zt.exports("iterator"),$i=Array.prototype,Qi=Qo,Xi=Zt.exports("iterator"),Zi=Wi,ta=I.exports.getIteratorMethod=function(t){if(null!=t)return t[Xi]||t["@@iterator"]||Zi[Qi(t)]},ea=It,ra=function(t,e,r,n){try{return n?e(zi(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&zi(o.call(t)),e}},na=function(t){return void 0!==t&&(Yi.Array===t||$i[qi]===t)},oa=et,ia=O,aa=ta,ca={},ua={},sa=Hi.exports=function(t,e,r,n,o){var i,a,c,u,s=o?function(){return t}:aa(t),l=ea(r,n,e?2:1),f=0;if("function"!=typeof s)throw TypeError(t+" is not iterable!");if(na(s)){for(i=ia(t.length);i>f;f++)if((u=e?l(oa(a=t[f])[0],a[1]):l(t[f]))===ca||u===ua)return u}else for(c=s.call(t);!(a=c.next()).done;)if((u=ra(c,l,a.value,e))===ca||u===ua)return u};sa.BREAK=ca,sa.RETURN=ua;var la,fa,pa,ha=It,va=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)},ya=je,da=ct,ga=N.exports,ba=ga.process,ma=ga.setImmediate,xa=ga.clearImmediate,Oa=ga.MessageChannel,wa=ga.Dispatch,Sa=0,ka={},ja=function(){var t=+this;if(ka.hasOwnProperty(t)){var e=ka[t];delete ka[t],e()}},Pa=function(t){ja.call(t.data)};ma&&xa||(ma=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return ka[++Sa]=function(){va("function"==typeof t?t:Function(t),e)},la(Sa),Sa},xa=function(t){delete ka[t]},"process"==l(ba)?la=function(t){ba.nextTick(ha(ja,t,1))}:wa&&wa.now?la=function(t){wa.now(ha(ja,t,1))}:Oa?(pa=(fa=new Oa).port2,fa.port1.onmessage=Pa,la=ha(pa.postMessage,pa,1)):ga.addEventListener&&"function"==typeof postMessage&&!ga.importScripts?(la=function(t){ga.postMessage(t+"","*")},ga.addEventListener("message",Pa,!1)):la="onreadystatechange"in da("script")?function(t){ya.appendChild(da("script")).onreadystatechange=function(){ya.removeChild(this),ja.call(t)}}:function(t){setTimeout(ha(ja,t,1),0)});var _a={set:ma,clear:xa},Ea=N.exports,Ia=_a.set,Fa=Ea.MutationObserver||Ea.WebKitMutationObserver,Na=Ea.process,Aa=Ea.Promise,La="process"==l(Na),Ta={},Ka=_t;function Ca(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Ka(e),this.reject=Ka(r)}Ta.f=function(t){return new Ca(t)};var Ma=N.exports.navigator,Ra=Ma&&Ma.userAgent||"",Ba=et,Da=Z,Ua=Ta,Va=mt.exports,Ga=N.exports,Ja=X,Ha=nt,za=Zt.exports("species"),Wa=Zt.exports("iterator"),Ya=!1;try{var qa=[7][Wa]();qa.return=function(){Ya=!0},Array.from(qa,(function(){throw 2}))}catch(t){}var $a,Qa,Xa,Za,tc=N.exports,ec=It,rc=Qo,nc=Ct,oc=Z,ic=_t,ac=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t},cc=Hi.exports,uc=Go,sc=_a.set,lc=function(){var t,e,r,n=function(){var n,o;for(La&&(n=Na.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(La)r=function(){Na.nextTick(n)};else if(!Fa||Ea.navigator&&Ea.navigator.standalone)if(Aa&&Aa.resolve){var o=Aa.resolve(void 0);r=function(){o.then(n)}}else r=function(){Ia.call(Ea,n)};else{var i=!0,a=document.createTextNode("");new Fa(n).observe(a,{characterData:!0}),r=function(){a.data=i=!i}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,r()),e=o}}(),fc=Ta,pc=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},hc=Ra,vc=function(t,e){if(Ba(t),Da(e)&&e.constructor===t)return e;var r=Ua.f(t);return(0,r.resolve)(e),r.promise},yc=tc.TypeError,dc=tc.process,gc=dc&&dc.versions,bc=gc&&gc.v8||"",mc=tc.Promise,xc="process"==rc(dc),Oc=function(){},wc=Qa=fc.f,Sc=!!function(){try{var t=mc.resolve(1),e=(t.constructor={})[require("./_wks")("species")]=function(t){t(Oc,Oc)};return(xc||"function"==typeof PromiseRejectionEvent)&&t.then(Oc)instanceof e&&0!==bc.indexOf("6.6")&&-1===hc.indexOf("Chrome/66")}catch(t){}}(),kc=function(t){var e;return!(!oc(t)||"function"!=typeof(e=t.then))&&e},jc=function(t,e){if(!t._n){t._n=!0;var r=t._c;lc((function(){for(var n=t._v,o=1==t._s,i=0,a=function(e){var r,i,a,c=o?e.ok:e.fail,u=e.resolve,s=e.reject,l=e.domain;try{c?(o||(2==t._h&&Ec(t),t._h=1),!0===c?r=n:(l&&l.enter(),r=c(n),l&&(l.exit(),a=!0)),r===e.promise?s(yc("Promise-chain cycle")):(i=kc(r))?i.call(r,u,s):u(r)):s(n)}catch(t){l&&!a&&l.exit(),s(t)}};r.length>i;)a(r[i++]);t._c=[],t._n=!1,e&&!t._h&&Pc(t)}))}},Pc=function(t){sc.call(tc,(function(){var e,r,n,o=t._v,i=_c(t);if(i&&(e=pc((function(){xc?dc.emit("unhandledRejection",o,t):(r=tc.onunhandledrejection)?r({promise:t,reason:o}):(n=tc.console)&&n.error})),t._h=xc||_c(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},_c=function(t){return 1!==t._h&&0===(t._a||t._c).length},Ec=function(t){sc.call(tc,(function(){var e;xc?dc.emit("rejectionHandled",t):(e=tc.onrejectionhandled)&&e({promise:t,reason:t._v})}))},Ic=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),jc(e,!0))},Fc=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw yc("Promise can't be resolved itself");(e=kc(t))?lc((function(){var n={_w:r,_d:!1};try{e.call(t,ec(Fc,n,1),ec(Ic,n,1))}catch(t){Ic.call(n,t)}})):(r._v=t,r._s=1,jc(r,!1))}catch(t){Ic.call({_w:r,_d:!1},t)}}};Sc||(mc=function(t){ac(this,mc,"Promise","_h"),ic(t),$a.call(this);try{t(ec(Fc,this,1),ec(Ic,this,1))}catch(t){Ic.call(this,t)}},($a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,r){for(var n in e)Va(t,n,e[n],r);return t}(mc.prototype,{then:function(t,e){var r=wc(uc(this,mc));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=xc?dc.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&jc(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Xa=function(){var t=new $a;this.promise=t,this.resolve=ec(Fc,t,1),this.reject=ec(Ic,t,1)},fc.f=wc=function(t){return t===mc||t===Za?new Xa(t):Qa(t)}),nc(nc.G+nc.W+nc.F*!Sc,{Promise:mc}),ce(mc,"Promise"),function(t){var e=Ga[t];Ha&&e&&!e[za]&&Ja.f(e,za,{configurable:!0,get:function(){return this}})}("Promise"),Za=I.exports.Promise,nc(nc.S+nc.F*!Sc,"Promise",{reject:function(t){var e=wc(this);return(0,e.reject)(t),e.promise}}),nc(nc.S+nc.F*!Sc,"Promise",{resolve:function(t){return vc(this,t)}}),nc(nc.S+nc.F*!(Sc&&function(t,e){if(!e&&!Ya)return!1;var r=!1;try{var n=[7],o=n[Wa]();o.next=function(){return{done:r=!0}},n[Wa]=function(){return o},t(n)}catch(t){}return r}((function(t){mc.all(t).catch(Oc)}))),"Promise",{all:function(t){var e=this,r=wc(e),n=r.resolve,o=r.reject,i=pc((function(){var r=[],i=0,a=1;cc(t,!1,(function(t){var c=i++,u=!1;r.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,r[c]=t,--a||n(r))}),o)})),--a||n(r)}));return i.e&&o(i.v),r.promise},race:function(t){var e=this,r=wc(e),n=r.reject,o=pc((function(){cc(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return o.e&&n(o.v),r.promise}});var Nc=Ae,Ac=yt,Lc=ce,Tc={};bt(Tc,Zt.exports("iterator"),(function(){return this}));var Kc=u,Cc=a,Mc=V("IE_PROTO"),Rc=Object.prototype,Bc=Object.getPrototypeOf||function(t){return t=Cc(t),Kc(t,Mc)?t[Mc]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Rc:null},Dc=Ct,Uc=mt.exports,Vc=bt,Gc=Wi,Jc=function(t,e,r){t.prototype=Nc(Tc,{next:Ac(1,r)}),Lc(t,e+" Iterator")},Hc=ce,zc=Bc,Wc=Zt.exports("iterator"),Yc=!([].keys&&"next"in[].keys()),qc=function(){return this},$c=function(t,e,r,n,o,i,a){Jc(r,e,n);var c,u,s,l=function(t){if(!Yc&&t in v)return v[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},f=e+" Iterator",p="values"==o,h=!1,v=t.prototype,y=v[Wc]||v["@@iterator"]||o&&v[o],d=y||l(o),g=o?p?l("entries"):d:void 0,b="Array"==e&&v.entries||y;if(b&&(s=zc(b.call(new t)))!==Object.prototype&&s.next&&(Hc(s,f,!0),"function"!=typeof s[Wc]&&Vc(s,Wc,qc)),p&&y&&"values"!==y.name&&(h=!0,d=function(){return y.call(this)}),(Yc||h||!v[Wc])&&Vc(v,Wc,d),Gc[e]=d,Gc[f]=qc,o)if(c={values:p?d:l("values"),keys:i?d:l("keys"),entries:g},a)for(u in c)u in v||Uc(v,u,c[u]);else Dc(Dc.P+Dc.F*(Yc||h),e,c);return c},Qc=zo(!0);$c(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=Qc(e,r),this._i+=t.length,{value:t,done:!1})}));var Xc=Jn,Zc=function(t,e){return{value:e,done:!!t}},tu=Wi,eu=y,ru=$c(Array,"Array",(function(t,e){this._t=eu(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,Zc(1)):Zc(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values");tu.Arguments=tu.Array,Xc("keys"),Xc("values"),Xc("entries");for(var nu=ru,ou=Q,iu=mt.exports,au=N.exports,cu=bt,uu=Wi,su=Zt.exports,lu=su("iterator"),fu=su("toStringTag"),pu=uu.Array,hu={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},vu=ou(hu),yu=0;yu<vu.length;yu++){var du,gu=vu[yu],bu=hu[gu],mu=au[gu],xu=mu&&mu.prototype;if(xu&&(xu[lu]||cu(xu,lu,pu),xu[fu]||cu(xu,fu,gu),uu[gu]=pu,bu))for(du in nu)xu[du]||iu(xu,du,nu[du],!0)}var Ou={};function wu(t){var e=t.ak,n=t.sk,o=t.endPoint,i=t.Bucket,a=t.isRefresh,c=function(t){return t&&Ou[t]}(i);if(c&&c.instance&&!a)return c.instance;c||(c=Ou[i]={});var u=function(t){var e=t.ak,n=t.sk,o=t.endPoint,i=t.obsType;if(e=e||i.ak,n=n||i.sk,o=o||i.endPoint,!e||!n||!o)throw new Error("请传入".concat(e?"":"ak").concat(n?"":"sk").concat(o?"":"endPoint","值"));var a=new r({access_key_id:e,secret_access_key:n,server:"https://".concat(o),timeout:30});return i.ak=e,i.sk=n,i.endPoint=o,i.instance=a,a}({ak:e,sk:n,endPoint:o,obsType:c});return u}var Su=["file","onBeforeUpload","uploadSuccess","uploadError","uploadProgress","upFileArrInstance"];function ku(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ju(t){var e=t.file,r=t.onBeforeUpload,n=t.uploadSuccess,o=t.uploadError,i=t.uploadProgress,a=t.upFileArrInstance,c=Nn(t,Su),u=a.addUploadingFile(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ku(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ku(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:e},c));u.uploadSuccess=n,u.uploadError=o,u.uploadProgress=i;var s=u.Bucket;return u.module,r&&!1===r(u.row)&&Pu("文件上传前的回调函数（onBeforeUpload）返回了false则不进行文件上传"),{Bucket:s,Key:u.Key,fileInfo:u.fileInfo,fileObj:u.row}}function Pu(t,e){throw e&&(e.fileInfo[Ci("status",e.resFileKey)]=2,e.uploadCount=1,e.changingStatus=!1,e.uploadStatus=!1,e.statusChange&&e.statusChange(2),e.uploadError&&e.uploadError(t,e.fileInfo[Ci("status",e.resFileKey)])),new Error(t)}function _u(t){return Eu.apply(this,arguments)}function Eu(){return Eu=Ln(Mn.mark((function t(e){var r,n,o,i,a,c;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.fileInstance,n=e.upFileArrInstance,o=e.endPoint,t.prev=1,i=r.beforeSuccess,t.t0=i,!t.t0){t.next=8;break}return t.next=7,i(r);case 7:t.t0=t.sent;case 8:a=t.t0,r.fileInfo[Ci("status",r.resFileKey)]=3,c=Ii({fileInstance:r,endPoint:o}),r.fileInfo[Ci("url",r.resFileKey)]=c,r.uploadSuccess&&r.uploadSuccess(c,r.fileInfo[Ci("status",r.resFileKey)],a),r.statusChange&&r.statusChange(3),Ri(r),n&&n.delFileInstance(r.Key),t.next=21;break;case 18:t.prev=18,t.t1=t.catch(1),console.log("上传成功处理函数error",t.t1);case 21:case"end":return t.stop()}}),t,null,[[1,18]])}))),Eu.apply(this,arguments)}function Iu(t,e,r,n){var o=Math.floor(t/e*100),i=n.fileInfo.percentage;console.log("prevPercent,percentage",i,o),n.uploadCount=1,o>i&&(n.uploadCount=1);var a=i>o?i:o;n.fileInfo.percentage=a,n.uploadProgress&&n.uploadProgress(a)}function Fu(t){return Nu.apply(this,arguments)}function Nu(){return Nu=Ln(Mn.mark((function t(e){var r,n,o;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.ak,n=e.sk,o=e.fileUrl,t.abrupt("return",new Promise(function(){var t=Ln(Mn.mark((function t(e,i){var a,c,u,s;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return a=Fi(o),c=a.Bucket,u=a.Key,s=a.endPoint,t.next=5,wu({Bucket:c,ak:r,sk:n,endPoint:s});case 5:t.sent.deleteObject({Bucket:c,Key:u},(function(t,r){t&&i(t),e(r.CommonMsg.Status)}));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)}))),Nu.apply(this,arguments)}function Au(t,e,r){return Lu.apply(this,arguments)}function Lu(){return(Lu=Ln(Mn.mark((function t(e,r,n){var o,i,a,c,u,s,l,f,p;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return");case 2:o=Ai(e),i=[],t.t0=Mn.keys(o);case 5:if((t.t1=t.t0()).done){t.next=14;break}return a=t.t1.value,c=o[a]||{},u=c.Bucket,s=c.endPoint,l=c.objects,t.next=10,wu({Bucket:u,ak:r,sk:n,endPoint:s});case 10:f=t.sent,i.push(Tu(f,u,l)),t.next=5;break;case 14:return t.next=16,Promise.all(i);case 16:return p=t.sent,t.abrupt("return",p);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Tu(t,e,r){return new Promise((function(n,o){t.deleteObjects({Bucket:e,Quiet:!1,Objects:r},(function(t,e){if(t)console.log("删除异常",t),o(t);else if(e.CommonMsg.Status<300&&e.InterfaceResult){var r=e.InterfaceResult||{},i=r.Deleteds,a=r.Errors;n({Deleteds:i,Errors:a})}}))}))}function Ku(t){return Cu.apply(this,arguments)}function Cu(){return(Cu=Ln(Mn.mark((function t(r){var n,o,i,a,c,u,s,l;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fileUrl,o=r.fileName,i=r.ak,a=r.sk,t.prev=1,n){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Mu({fileUrl:n,ak:i,sk:a});case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:if(c=t.t0,u=c.SignedUrl,s=c.ActualSignedRequestHeaders,u){t.next=14;break}throw new Error("没有获取到临时授权url");case 14:return t.next=16,e.request({method:"GET",url:u,withCredentials:!1,headers:s||{},validateStatus:function(t){return t>=200},maxRedirects:0,responseType:"blob"});case 16:if(!((l=t.sent).status<300)){t.next=20;break}return Ni({blob:l.data,fileUrl:n,fileName:o}),t.abrupt("return");case 20:throw new Error("临时授权文件下载失败");case 23:t.prev=23,t.t1=t.catch(1),Ni({fileUrl:n,fileName:o});case 26:case"end":return t.stop()}}),t,null,[[1,23]])})))).apply(this,arguments)}function Mu(t){return Ru.apply(this,arguments)}function Ru(){return(Ru=Ln(Mn.mark((function t(e){var r,n,o,i,a,c,u,s,l;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.fileUrl,n=e.ak,o=e.sk,i=Fi(r),a=i.Bucket,c=i.Key,u=i.endPoint,t.next=4,wu({Bucket:a,ak:n,sk:o,endPoint:u});case 4:return s=t.sent,l=s.createSignedUrlSync({Method:"GET",Bucket:a,Key:c,Expires:3600}),t.abrupt("return",l);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Bu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Du(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bu(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Uu(t){return Vu.apply(this,arguments)}function Vu(){return Vu=Ln(Mn.mark((function t(e){var r,n,o,i,a,c,u,s,l,f,p,h,v;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.fileParams,n=void 0===r?{}:r,o=e.fileInstance,i=e.Key,a=e.upFileArrInstance,c=e.beforeSuccess,o=o||a.getFileInstance(i||n.Key),c&&(o.beforeSuccess=c),t.prev=3,!o.obsInited||Hu(o).createInterf){t.next=6;break}return t.abrupt("return");case 6:return o.uploadStatus=!0,l=(s=o).Bucket,f=s.ak,p=s.sk,h=s.endPoint,t.next=10,wu({ak:f,sk:p,endPoint:h,Bucket:l,isRefresh:!0});case 10:if(v=t.sent,console.log("obsInstance",v),o.uploadStatus=!1,Hu(o,!0).createInterf){t.next=16;break}return o.obsInited||-1!==o.toStatusVal||(console.log("进入-没有初始化成功过"),Ju(o)),t.abrupt("return");case 16:o.uploadStatus=!0,v.uploadFile(Du({ProgressCallback:function(t,e,r){console.log("进入ProgressCallback111"),o.fileInfo[Ci("status",o.resFileKey)]=1,console.log("进入ProgressCallback"),Iu(t,e,0,o)},EventCallback:function(t,e,r){if(console.log("处理事件响应-eventType",t),console.log("处理事件响应-eventParam",e),console.log("处理事件响应-eventResult",r),console.log("eventResult",r instanceof Error),r instanceof Error){console.log("errMsg",r.message);var n=r.message;-1!==n.indexOf("Network Error")&&Pu(n,o)}},ResumeCallback:function(t,e){o.resumeHook=t,o.uploadCheckpoint=e,u=e,console.log("fileInstance.toStatusVal",o.toStatusVal),-1===o.toStatusVal?t.cancel():(o.changingStatus&&o.toStatusVal&&Ju(o),o.toStatusVal=void 0),o.obsInited=!0,console.log("ResumeCallback-fileInstance",o)},TaskNum:6,PartSize:9437184},n),(function(t,e){if(o.changingStatus=!1,o.uploadStatus=!1,console.log("err,result,fileInstance",t,e,JSON.parse(JSON.stringify(o))),t){var r=JSON.parse(JSON.stringify(a.getFileInstance(i||n.Key)));if(console.log("err,newfileInstance",JSON.parse(JSON.stringify(r))),!r||!r.fileInfo)return void console.log("进入解决被删除的情况");if(-1===r.toStatusVal)return Ju(o),o.uploadStatus=!1,void(o.toStatusVal=void 0);if(3===Number(o.fileInfo[Ci("status",o.resFileKey)]))return;var c=Number(o.uploadCount);console.log("出现错误，再次调用断点续传接口，继续上传任务",c),c<3?(Uu({fileParams:{UploadCheckpoint:u},fileInstance:o,Key:i,upFileArrInstance:a}),o.uploadCount=c+1):Pu(t,o)}else e&&e.CommonMsg&&200==e.CommonMsg.Status&&(console.log("成功",a),_u({fileInstance:o,upFileArrInstance:a,endPoint:v.util.server}))})),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(3),console.log("上传报错",t.t0),Pu(t.t0,o);case 24:return t.prev=24,t.finish(24);case 26:case"end":return t.stop()}}),t,null,[[3,20,24,26]])}))),Vu.apply(this,arguments)}function Gu(t){var e=t.Key,r=t.upFileArrInstance;if(console.log("暂停/续传文件",r),e){var n=r.getFileInstance(e),o=n.fileInfo,i=n.uploadCheckpoint,a=n.resumeHook,c=n.Bucket,u=n.row,s=Number(o.status);return console.log("续传文件status",JSON.parse(JSON.stringify(n))),3===s||!s||n.changingStatus?s:(n.changingStatus=!0,-1===s||2===s?(n.toStatusVal=1,n.uploadCount=1,console.log("恢复上传-payUpload",i),i?function(t){var e=t.uploadCheckpoint,r=t.fileInstance,n=t.upFileArrInstance,o=t.Key;if(!e)return;console.log("恢复上传"),Uu({fileParams:{UploadCheckpoint:e},Key:o,fileInstance:r,upFileArrInstance:n})}({uploadCheckpoint:i,fileInstance:n,upFileArrInstance:r,Key:e}):Uu({fileParams:{Bucket:c,Key:e,SourceFile:u},Key:e,upFileArrInstance:r})):function(t,e){if(console.log("暂停上传",e),-1==e.toStatusVal)return;e.toStatusVal=-1,t&&t.cancel(),console.log("暂停上传-fileInstance",JSON.parse(JSON.stringify(e)))}(a,n))}}function Ju(t){t.fileInfo[Ci("status",t.resFileKey)]=t.toStatusVal,t.changingStatus=!1,t.statusChange&&t.statusChange(t.toStatusVal)}function Hu(t,e){return console.log("进入uploadFileObsServe",JSON.parse(JSON.stringify(t))),-1===t.toStatusVal?(console.log("进入暂停-uploadFileObsServe"),e&&(t.fileInfo[Ci("status",t.resFileKey)]=t.toStatusVal),t.toStatusVal=void 0,t.changingStatus=!1,{createInterf:!1,uploadStatus:!1}):1==t.toStatusVal&&t.uploadStatus?(console.log("文件处于上传中的状态时，有接口请求尚未结束-uploadFileObsServe",JSON.parse(JSON.stringify(t))),{createInterf:!1,uploadStatus:!0}):{createInterf:!0,uploadStatus:!0}}var zu={breakpointResume:{uploadFun:function(t){var e=t.Bucket,r=t.fileObj,n=t.Key;Uu({fileParams:{Bucket:e,Key:n,SourceFile:r},Key:n,obsInstance:t.obsInstance,upFileArrInstance:t.upFileArrInstance})}}};var Wu=["file","onBeforeUpload","uploadSuccess","uploadError","uploadProgress"];function Yu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var qu=new Vi;function $u(t){return Qu.apply(this,arguments)}function Qu(){return(Qu=Ln(Mn.mark((function t(e){var r,n,o,i,a;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.Key,n=e.fileUrl,o=e.ak,i=e.sk,t.prev=1,!r||n){t.next=7;break}if(-1!==qu.delFileInstance(r)){t.next=6;break}throw new Error("文件不存在");case 6:return t.abrupt("return",200);case 7:return t.next=9,Fu({ak:o,sk:i,fileUrl:n});case 9:return a=t.sent,t.abrupt("return",a);case 13:throw t.prev=13,t.t0=t.catch(1),new Error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}function Xu(t){return Zu.apply(this,arguments)}function Zu(){return(Zu=Ln(Mn.mark((function t(e){var r,n,o,i,a,c,u,s;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.KeyList,n=void 0===r?[]:r,o=e.urlList,i=void 0===o?[]:o,a=e.ak,c=e.sk,t.prev=1,u=[],s=[],console.log("进入删除-multiObsDelFile",i),n&&n.length>0&&n.map((function(t){-1===qu.delFileInstance(t)?console.log("删除本地正在上传的文件-Key:".concat(t,"不存在")):u.push({Key:t})})),t.next=8,Au(i,a,c);case 8:if(t.t0=t.sent,t.t0){t.next=11;break}t.t0=[];case 11:return t.t0.map((function(t){var e=t.Deleteds,r=t.Errors;u=u.concat(e),s=s.concat(r)})),t.abrupt("return",{delSuccess:u,delError:s});case 16:throw t.prev=16,t.t1=t.catch(1),new Error(t.t1);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}function ts(t){var e=t.file,r=t.onBeforeUpload,n=t.uploadSuccess,o=t.uploadError,i=t.uploadProgress,a=Nn(t,Wu),c=ju(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yu(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:e,onBeforeUpload:r,uploadSuccess:n,uploadError:o,uploadProgress:i,upFileArrInstance:qu},a)),u=c.Bucket,s=c.Key,l=c.fileInfo,f=c.fileObj;return function(t){var e=t.uploadType,r=t.Bucket,n=t.Key,o=t.fileObj,i=t.upFileArrInstance;(zu[e=e||"breakpointResume"]&&zu[e].uploadFun)({Bucket:r,fileObj:o,Key:n,upFileArrInstance:i})}({uploadType:a.uploadType,Bucket:u,Key:s,fileObj:f,upFileArrInstance:qu}),console.log("fileInfo",l),l}var es=t.debounce((function(t){Gu({Key:t,upFileArrInstance:qu})}),100);export{es as breakpointResume,$u as delFile,Ku as downloadFile,Mu as getSignedFileUrl,Xu as multiDelFile,ts as uploadFile};
