import t from"lodash-es";import e from"axios";import r from"esdk-obs-browserjs";function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},i=o,a=function(t){return Object(i(t))},u={}.hasOwnProperty,c=function(t,e){return u.call(t,e)},s={}.toString,f=function(t){return s.call(t).slice(8,-1)},l=f,p=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==l(t)?t.split(""):Object(t)},h=p,v=o,y=function(t){return h(v(t))},d=Math.ceil,g=Math.floor,b=function(t){return isNaN(t=+t)?0:(t>0?g:d)(t)},m=b,x=Math.min,w=function(t){return t>0?x(m(t),9007199254740991):0},O=b,k=Math.max,S=Math.min,j=y,P=w,_=function(t,e){return(t=O(t))<0?k(t+e,0):S(t,e)},E={exports:{}},I={exports:{}},F=I.exports={version:"2.6.12"};"number"==typeof __e&&(__e=F);var A={exports:{}},L=A.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=L);var T=I.exports,N=A.exports,K=N["__core-js_shared__"]||(N["__core-js_shared__"]={});(E.exports=function(t,e){return K[t]||(K[t]=void 0!==e?e:{})})("versions",[]).push({version:T.version,mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"});var C,M=0,R=Math.random(),B=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++M+R).toString(36))},D=E.exports("keys"),U=B,V=function(t){return D[t]||(D[t]=U(t))},G=c,H=y,J=(C=!1,function(t,e,r){var n,o=j(t),i=P(o.length),a=_(r,i);if(C&&e!=e){for(;i>a;)if((n=o[a++])!=n)return!0}else for(;i>a;a++)if((C||a in o)&&o[a]===e)return C||a||0;return!C&&-1}),z=V("IE_PROTO"),W=function(t,e){var r,n=H(t),o=0,i=[];for(r in n)r!=z&&G(n,r)&&i.push(r);for(;e.length>o;)G(n,r=e[o++])&&(~J(i,r)||i.push(r));return i},Y="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),q=W,$=Y,Q=Object.keys||function(t){return q(t,$)},X={},Z=function(t){return"object"==typeof t?null!==t:"function"==typeof t},tt=Z,et=function(t){if(!tt(t))throw TypeError(t+" is not an object!");return t},rt=function(t){try{return!!t()}catch(t){return!0}},nt=!rt((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),ot=Z,it=A.exports.document,at=ot(it)&&ot(it.createElement),ut=function(t){return at?it.createElement(t):{}},ct=!nt&&!rt((function(){return 7!=Object.defineProperty(ut("div"),"a",{get:function(){return 7}}).a})),st=Z,ft=function(t,e){if(!st(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!st(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!st(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!st(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},lt=et,pt=ct,ht=ft,vt=Object.defineProperty;X.f=nt?Object.defineProperty:function(t,e,r){if(lt(t),e=ht(e,!0),lt(r),pt)try{return vt(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t};var yt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},dt=X,gt=yt,bt=nt?function(t,e,r){return dt.f(t,e,gt(1,r))}:function(t,e,r){return t[e]=r,t},mt={exports:{}},xt=E.exports("native-function-to-string",Function.toString),wt=A.exports,Ot=bt,kt=c,St=B("src"),jt=xt,Pt=(""+jt).split("toString");I.exports.inspectSource=function(t){return jt.call(t)},(mt.exports=function(t,e,r,n){var o="function"==typeof r;o&&(kt(r,"name")||Ot(r,"name",e)),t[e]!==r&&(o&&(kt(r,St)||Ot(r,St,t[e]?""+t[e]:Pt.join(String(e)))),t===wt?t[e]=r:n?t[e]?t[e]=r:Ot(t,e,r):(delete t[e],Ot(t,e,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[St]||jt.call(this)}));var _t=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},Et=_t,It=function(t,e,r){if(Et(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},Ft=A.exports,At=I.exports,Lt=bt,Tt=mt.exports,Nt=It,Kt=function(t,e,r){var n,o,i,a,u=t&Kt.F,c=t&Kt.G,s=t&Kt.S,f=t&Kt.P,l=t&Kt.B,p=c?Ft:s?Ft[e]||(Ft[e]={}):(Ft[e]||{}).prototype,h=c?At:At[e]||(At[e]={}),v=h.prototype||(h.prototype={});for(n in c&&(r=e),r)i=((o=!u&&p&&void 0!==p[n])?p:r)[n],a=l&&o?Nt(i,Ft):f&&"function"==typeof i?Nt(Function.call,i):i,p&&Tt(p,n,i,t&Kt.U),h[n]!=i&&Lt(h,n,a),f&&v[n]!=i&&(v[n]=i)};Ft.core=At,Kt.F=1,Kt.G=2,Kt.S=4,Kt.P=8,Kt.B=16,Kt.W=32,Kt.U=64,Kt.R=128;var Ct=Kt,Mt=Ct,Rt=I.exports,Bt=rt,Dt=function(t,e){var r=(Rt.Object||{})[t]||Object[t],n={};n[t]=e(r),Mt(Mt.S+Mt.F*Bt((function(){r(1)})),"Object",n)},Ut=a,Vt=Q;Dt("keys",(function(){return function(t){return Vt(Ut(t))}}));var Gt={exports:{}},Ht=B("meta"),Jt=Z,zt=c,Wt=X.f,Yt=0,qt=Object.isExtensible||function(){return!0},$t=!rt((function(){return qt(Object.preventExtensions({}))})),Qt=function(t){Wt(t,Ht,{value:{i:"O"+ ++Yt,w:{}}})},Xt=Gt.exports={KEY:Ht,NEED:!1,fastKey:function(t,e){if(!Jt(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!zt(t,Ht)){if(!qt(t))return"F";if(!e)return"E";Qt(t)}return t[Ht].i},getWeak:function(t,e){if(!zt(t,Ht)){if(!qt(t))return!0;if(!e)return!1;Qt(t)}return t[Ht].w},onFreeze:function(t){return $t&&Xt.NEED&&qt(t)&&!zt(t,Ht)&&Qt(t),t}},Zt={exports:{}},te=E.exports("wks"),ee=B,re=A.exports.Symbol,ne="function"==typeof re;(Zt.exports=function(t){return te[t]||(te[t]=ne&&re[t]||(ne?re:ee)("Symbol."+t))}).store=te;var oe=X.f,ie=c,ae=Zt.exports("toStringTag"),ue=function(t,e,r){t&&!ie(t=r?t:t.prototype,ae)&&oe(t,ae,{configurable:!0,value:e})},ce={};ce.f=Zt.exports;var se=A.exports,fe=I.exports,le=ce,pe=X.f,he={};he.f=Object.getOwnPropertySymbols;var ve={};ve.f={}.propertyIsEnumerable;var ye=Q,de=he,ge=ve,be=f,me=Array.isArray||function(t){return"Array"==be(t)},xe=X,we=et,Oe=Q,ke=nt?Object.defineProperties:function(t,e){we(t);for(var r,n=Oe(e),o=n.length,i=0;o>i;)xe.f(t,r=n[i++],e[r]);return t},Se=A.exports.document,je=Se&&Se.documentElement,Pe=et,_e=ke,Ee=Y,Ie=V("IE_PROTO"),Fe=function(){},Ae=function(){var t,e=ut("iframe"),r=Ee.length;for(e.style.display="none",je.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Ae=t.F;r--;)delete Ae.prototype[Ee[r]];return Ae()},Le=Object.create||function(t,e){var r;return null!==t?(Fe.prototype=Pe(t),r=new Fe,Fe.prototype=null,r[Ie]=t):r=Ae(),void 0===e?r:_e(r,e)},Te={},Ne={},Ke=W,Ce=Y.concat("length","prototype");Ne.f=Object.getOwnPropertyNames||function(t){return Ke(t,Ce)};var Me=y,Re=Ne.f,Be={}.toString,De="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Te.f=function(t){return De&&"[object Window]"==Be.call(t)?function(t){try{return Re(t)}catch(t){return De.slice()}}(t):Re(Me(t))};var Ue={},Ve=ve,Ge=yt,He=y,Je=ft,ze=c,We=ct,Ye=Object.getOwnPropertyDescriptor;Ue.f=nt?Ye:function(t,e){if(t=He(t),e=Je(e,!0),We)try{return Ye(t,e)}catch(t){}if(ze(t,e))return Ge(!Ve.f.call(t,e),t[e])};var qe=A.exports,$e=c,Qe=nt,Xe=Ct,Ze=mt.exports,tr=Gt.exports.KEY,er=rt,rr=E.exports,nr=ue,or=B,ir=Zt.exports,ar=ce,ur=function(t){var e=fe.Symbol||(fe.Symbol=se.Symbol||{});"_"==t.charAt(0)||t in e||pe(e,t,{value:le.f(t)})},cr=function(t){var e=ye(t),r=de.f;if(r)for(var n,o=r(t),i=ge.f,a=0;o.length>a;)i.call(t,n=o[a++])&&e.push(n);return e},sr=me,fr=et,lr=Z,pr=a,hr=y,vr=ft,yr=yt,dr=Le,gr=Te,br=Ue,mr=he,xr=X,wr=Q,Or=br.f,kr=xr.f,Sr=gr.f,jr=qe.Symbol,Pr=qe.JSON,_r=Pr&&Pr.stringify,Er=ir("_hidden"),Ir=ir("toPrimitive"),Fr={}.propertyIsEnumerable,Ar=rr("symbol-registry"),Lr=rr("symbols"),Tr=rr("op-symbols"),Nr=Object.prototype,Kr="function"==typeof jr&&!!mr.f,Cr=qe.QObject,Mr=!Cr||!Cr.prototype||!Cr.prototype.findChild,Rr=Qe&&er((function(){return 7!=dr(kr({},"a",{get:function(){return kr(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=Or(Nr,e);n&&delete Nr[e],kr(t,e,r),n&&t!==Nr&&kr(Nr,e,n)}:kr,Br=function(t){var e=Lr[t]=dr(jr.prototype);return e._k=t,e},Dr=Kr&&"symbol"==typeof jr.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof jr},Ur=function(t,e,r){return t===Nr&&Ur(Tr,e,r),fr(t),e=vr(e,!0),fr(r),$e(Lr,e)?(r.enumerable?($e(t,Er)&&t[Er][e]&&(t[Er][e]=!1),r=dr(r,{enumerable:yr(0,!1)})):($e(t,Er)||kr(t,Er,yr(1,{})),t[Er][e]=!0),Rr(t,e,r)):kr(t,e,r)},Vr=function(t,e){fr(t);for(var r,n=cr(e=hr(e)),o=0,i=n.length;i>o;)Ur(t,r=n[o++],e[r]);return t},Gr=function(t){var e=Fr.call(this,t=vr(t,!0));return!(this===Nr&&$e(Lr,t)&&!$e(Tr,t))&&(!(e||!$e(this,t)||!$e(Lr,t)||$e(this,Er)&&this[Er][t])||e)},Hr=function(t,e){if(t=hr(t),e=vr(e,!0),t!==Nr||!$e(Lr,e)||$e(Tr,e)){var r=Or(t,e);return!r||!$e(Lr,e)||$e(t,Er)&&t[Er][e]||(r.enumerable=!0),r}},Jr=function(t){for(var e,r=Sr(hr(t)),n=[],o=0;r.length>o;)$e(Lr,e=r[o++])||e==Er||e==tr||n.push(e);return n},zr=function(t){for(var e,r=t===Nr,n=Sr(r?Tr:hr(t)),o=[],i=0;n.length>i;)!$e(Lr,e=n[i++])||r&&!$e(Nr,e)||o.push(Lr[e]);return o};Kr||(Ze((jr=function(){if(this instanceof jr)throw TypeError("Symbol is not a constructor!");var t=or(arguments.length>0?arguments[0]:void 0),e=function(r){this===Nr&&e.call(Tr,r),$e(this,Er)&&$e(this[Er],t)&&(this[Er][t]=!1),Rr(this,t,yr(1,r))};return Qe&&Mr&&Rr(Nr,t,{configurable:!0,set:e}),Br(t)}).prototype,"toString",(function(){return this._k})),br.f=Hr,xr.f=Ur,Ne.f=gr.f=Jr,ve.f=Gr,mr.f=zr,Qe&&Ze(Nr,"propertyIsEnumerable",Gr,!0),ar.f=function(t){return Br(ir(t))}),Xe(Xe.G+Xe.W+Xe.F*!Kr,{Symbol:jr});for(var Wr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Yr=0;Wr.length>Yr;)ir(Wr[Yr++]);for(var qr=wr(ir.store),$r=0;qr.length>$r;)ur(qr[$r++]);Xe(Xe.S+Xe.F*!Kr,"Symbol",{for:function(t){return $e(Ar,t+="")?Ar[t]:Ar[t]=jr(t)},keyFor:function(t){if(!Dr(t))throw TypeError(t+" is not a symbol!");for(var e in Ar)if(Ar[e]===t)return e},useSetter:function(){Mr=!0},useSimple:function(){Mr=!1}}),Xe(Xe.S+Xe.F*!Kr,"Object",{create:function(t,e){return void 0===e?dr(t):Vr(dr(t),e)},defineProperty:Ur,defineProperties:Vr,getOwnPropertyDescriptor:Hr,getOwnPropertyNames:Jr,getOwnPropertySymbols:zr});var Qr=er((function(){mr.f(1)}));Xe(Xe.S+Xe.F*Qr,"Object",{getOwnPropertySymbols:function(t){return mr.f(pr(t))}}),Pr&&Xe(Xe.S+Xe.F*(!Kr||er((function(){var t=jr();return"[null]"!=_r([t])||"{}"!=_r({a:t})||"{}"!=_r(Object(t))}))),"JSON",{stringify:function(t){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=e=n[1],(lr(e)||void 0!==t)&&!Dr(t))return sr(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Dr(e))return e}),n[1]=e,_r.apply(Pr,n)}}),jr.prototype[Ir]||bt(jr.prototype,Ir,jr.prototype.valueOf),nr(jr,"Symbol"),nr(Math,"Math",!0),nr(qe.JSON,"JSON",!0);var Xr=Z,Zr=me,tn=Zt.exports("species"),en=function(t){var e;return Zr(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Zr(e.prototype)||(e=void 0),Xr(e)&&null===(e=e[tn])&&(e=void 0)),void 0===e?Array:e},rn=It,nn=p,on=a,an=w,un=function(t,e){return new(en(t))(e)},cn=function(t,e){var r=1==t,n=2==t,o=3==t,i=4==t,a=6==t,u=5==t||a,c=e||un;return function(e,s,f){for(var l,p,h=on(e),v=nn(h),y=rn(s,f,3),d=an(v.length),g=0,b=r?c(e,d):n?c(e,0):void 0;d>g;g++)if((u||g in v)&&(p=y(l=v[g],g,h),t))if(r)b[g]=p;else if(p)switch(t){case 3:return!0;case 5:return l;case 6:return g;case 2:b.push(l)}else if(i)return!1;return a?-1:o||i?i:b}},sn=rt,fn=function(t,e){return!!t&&sn((function(){e?t.call(null,(function(){}),1):t.call(null)}))},ln=Ct,pn=cn(2);ln(ln.P+ln.F*!fn([].filter,!0),"Array",{filter:function(t){return pn(this,t,arguments[1])}});var hn=y,vn=Ue.f;Dt("getOwnPropertyDescriptor",(function(){return function(t,e){return vn(hn(t),e)}}));var yn=Ne,dn=he,gn=et,bn=A.exports.Reflect,mn=bn&&bn.ownKeys||function(t){var e=yn.f(gn(t)),r=dn.f;return r?e.concat(r(t)):e},xn=X,wn=yt,On=mn,kn=y,Sn=Ue,jn=function(t,e,r){e in t?xn.f(t,e,wn(0,r)):t[e]=r};Ct(Ct.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=kn(t),o=Sn.f,i=On(n),a={},u=0;i.length>u;)void 0!==(r=o(n,e=i[u++]))&&jn(a,e,r);return a}});var Pn,_n={exports:{}};(Pn=_n).exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},Pn.exports.__esModule=!0,Pn.exports.default=Pn.exports;var En=n(_n.exports),In={exports:{}},Fn={exports:{}};!function(t){t.exports=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o},t.exports.__esModule=!0,t.exports.default=t.exports}(Fn),function(t){var e=Fn.exports;t.exports=function(t,r){if(null==t)return{};var n,o,i=e(t,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i},t.exports.__esModule=!0,t.exports.default=t.exports}(In);var An=n(In.exports),Ln={exports:{}};!function(t){function e(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function u(t){e(a,o,i,u,c,"next",t)}function c(t){e(a,o,i,u,c,"throw",t)}u(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}(Ln);var Tn=n(Ln.exports),Nn=Ct,Kn=cn(1);Nn(Nn.P+Nn.F*!fn([].map,!0),"Array",{map:function(t){return Kn(this,t,arguments[1])}});var Cn={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(t,e,r){var n=l;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===v){if("throw"===o)throw i;return F()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=j(a,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=f(t,e,r);if("normal"===c.type){if(n=r.done?v:p,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=v,r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l="suspendedStart",p="suspendedYield",h="executing",v="completed",y={};function d(){}function g(){}function b(){}var m={};c(m,i,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(I([])));w&&w!==r&&n.call(w,i)&&(m=w);var O=b.prototype=d.prototype=Object.create(m);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function j(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=f(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:F}}function F(){return{value:e,done:!0}}return g.prototype=b,c(O,"constructor",b),c(b,"constructor",g),g.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},k(S.prototype),c(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(O),c(O,u,"Generator"),c(O,i,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=I,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(Cn);var Mn=Cn.exports,Rn={exports:{}};!function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}(Rn);var Bn=n(Rn.exports),Dn={exports:{}};!function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(Dn);var Un=n(Dn.exports),Vn=Zt.exports("unscopables"),Gn=Array.prototype;null==Gn[Vn]&&bt(Gn,Vn,{});var Hn=function(t){Gn[Vn][t]=!0},Jn=Ct,zn=cn(5),Wn=!0;"find"in[]&&Array(1).find((function(){Wn=!1})),Jn(Jn.P+Jn.F*Wn,"Array",{find:function(t){return zn(this,t,arguments.length>1?arguments[1]:void 0)}}),Hn("find");var Yn=Z,qn=et,$n=function(t,e){if(qn(t),!Yn(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Qn={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return $n(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:$n},Xn=Z,Zn=Qn.set,to=Ct,eo=o,ro=rt,no="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",oo="["+no+"]",io=RegExp("^"+oo+oo+"*"),ao=RegExp(oo+oo+"*$"),uo=function(t,e,r){var n={},o=ro((function(){return!!no[t]()||"​"!="​"[t]()})),i=n[t]=o?e(co):no[t];r&&(n[r]=i),to(to.P+to.F*o,"String",n)},co=uo.trim=function(t,e){return t=String(eo(t)),1&e&&(t=t.replace(io,"")),2&e&&(t=t.replace(ao,"")),t},so=uo,fo=A.exports,lo=c,po=f,ho=function(t,e,r){var n,o=e.constructor;return o!==r&&"function"==typeof o&&(n=o.prototype)!==r.prototype&&Xn(n)&&Zn&&Zn(t,n),t},vo=ft,yo=rt,go=Ne.f,bo=Ue.f,mo=X.f,xo=so.trim,wo=fo.Number,Oo=wo,ko=wo.prototype,So="Number"==po(Le(ko)),jo="trim"in String.prototype,Po=function(t){var e=vo(t,!1);if("string"==typeof e&&e.length>2){var r,n,o,i=(e=jo?e.trim():xo(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var a,u=e.slice(2),c=0,s=u.length;c<s;c++)if((a=u.charCodeAt(c))<48||a>o)return NaN;return parseInt(u,n)}}return+e};if(!wo(" 0o1")||!wo("0b1")||wo("+0x1")){wo=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof wo&&(So?yo((function(){ko.valueOf.call(r)})):"Number"!=po(r))?ho(new Oo(Po(e)),r,wo):Po(e)};for(var _o,Eo=nt?go(Oo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Io=0;Eo.length>Io;Io++)lo(Oo,_o=Eo[Io])&&!lo(wo,_o)&&mo(wo,_o,bo(Oo,_o));wo.prototype=ko,ko.constructor=wo,mt.exports(fo,"Number",wo)}var Fo={exports:{}};!function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Fo);var Ao=n(Fo.exports),Lo=X.f,To=Function.prototype,No=/^\s*function ([^ (]*)/;"name"in To||nt&&Lo(To,"name",{configurable:!0,get:function(){try{return(""+this).match(No)[1]}catch(t){return""}}});var Ko,Co,Mo=Z,Ro=f,Bo=Zt.exports("match"),Do=et,Uo=_t,Vo=Zt.exports("species"),Go=function(t,e){var r,n=Do(t).constructor;return void 0===n||null==(r=Do(n)[Vo])?e:Uo(r)},Ho=b,Jo=o,zo=function(t){return function(e,r){var n,o,i=String(Jo(e)),a=Ho(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===u||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):n:t?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},Wo=zo(!0),Yo=f,qo=Zt.exports("toStringTag"),$o="Arguments"==Yo(function(){return arguments}()),Qo=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),qo))?r:$o?Yo(e):"Object"==(n=Yo(e))&&"function"==typeof e.callee?"Arguments":n},Xo=Qo,Zo=RegExp.prototype.exec,ti=et,ei=function(){var t=ti(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},ri=RegExp.prototype.exec,ni=String.prototype.replace,oi=ri,ii=(Ko=/a/,Co=/b*/g,ri.call(Ko,"a"),ri.call(Co,"a"),0!==Ko.lastIndex||0!==Co.lastIndex),ai=void 0!==/()??/.exec("")[1];(ii||ai)&&(oi=function(t){var e,r,n,o,i=this;return ai&&(r=new RegExp("^"+i.source+"$(?!\\s)",ei.call(i))),ii&&(e=i.lastIndex),n=ri.call(i,t),ii&&n&&(i.lastIndex=i.global?n.index+n[0].length:e),ai&&n&&n.length>1&&ni.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n});var ui=oi;Ct({target:"RegExp",proto:!0,forced:ui!==/./.exec},{exec:ui});var ci=mt.exports,si=bt,fi=rt,li=o,pi=Zt.exports,hi=ui,vi=pi("species"),yi=!fi((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),di=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}(),gi=function(t){var e;return Mo(t)&&(void 0!==(e=t[Bo])?!!e:"RegExp"==Ro(t))},bi=et,mi=Go,xi=function(t,e,r){return e+(r?Wo(t,e).length:1)},wi=w,Oi=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==Xo(t))throw new TypeError("RegExp#exec called on incompatible receiver");return Zo.call(t,e)},ki=ui,Si=rt,ji=Math.min,Pi=[].push,_i=!Si((function(){RegExp(4294967295,"y")}));function Ei(t,e){var r=function(t){if(t instanceof File){var e=t.name;return e.substring(e.lastIndexOf(".")+1).toLowerCase()}throw new Error("传入的文件须是File对象")}(e),n=new Date,o=n.getFullYear(),i=n.getMonth()+1;i="".concat(i<10?0:"").concat(i);var a=n.getDate()+1;a="".concat(a<10?0:"").concat(a);var u=n.getTime(),c=Math.floor(1e6*Math.random()+1);return"".concat(t,"/").concat(o,"-").concat(i,"-").concat(a,"/").concat(u).concat(c,".").concat(r)}function Ii(t){var e=t.Bucket,r=t.Key,n=t.fileInstance,o=t.endPoint,i=e||n.Bucket,a=r||n.fileInfo.Key;return o=o||"obs.cn-east-3.myhuaweicloud.com","https://".concat(i,".").concat(o,"/").concat(a)}function Fi(t){var e=t.split("://")[1]||"",r=e.indexOf("/"),n=e.substring(r+1,e.length),o=e.substring(0,r),i=o.indexOf(".");return{Bucket:o.substring(0,i),Key:n,endPoint:o.substring(i+1,o.length)}}function Ai(t){var e=t.blob,r=t.fileName,n=t.fileUrl;try{if(r=r||function(t){var e=t.split("/"),r=e.length;return r>0?e[r-1]:""}(n)||"附件",e&&window.navigator.msSaveOrOpenBlob)return void navigator.msSaveOrOpenBlob(e,r);var o=document.createElement("a");o.href=e?window.URL.createObjectURL(new Blob([e])):n,o.download=r,o.click(),window.URL.revokeObjectURL(o.href)}catch(t){console.log("error",t)}}function Li(t){var e={};return t.map((function(t){var r=Fi(t),n=r.Bucket,o=r.Key,i=r.endPoint,a="".concat(n,"-").concat(i);e[a]&&e[a].objects&&e[a].objects.length>0?e[a].objects.push({Key:o}):e[a]={Bucket:n,endPoint:i,objects:[{Key:o}]}})),e}!function(t,e,r){var n=pi(t),o=!fi((function(){var e={};return e[n]=function(){return 7},7!=""[t](e)})),i=o?!fi((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[vi]=function(){return r}),r[n](""),!e})):void 0;if(!o||!i||"replace"===t&&!yi||"split"===t&&!di){var a=/./[n],u=r(li,n,""[t],(function(t,e,r,n,i){return e.exec===hi?o&&!i?{done:!0,value:a.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),c=u[0],s=u[1];ci(String.prototype,t,c),si(RegExp.prototype,n,2==e?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)})}}("split",2,(function(t,e,r,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!gi(t))return r.call(n,t,e);for(var o,i,a,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,f=void 0===e?4294967295:e>>>0,l=new RegExp(t.source,c+"g");(o=ki.call(l,n))&&!((i=l.lastIndex)>s&&(u.push(n.slice(s,o.index)),o.length>1&&o.index<n.length&&Pi.apply(u,o.slice(1)),a=o[0].length,s=i,u.length>=f));)l.lastIndex===o.index&&l.lastIndex++;return s===n.length?!a&&l.test("")||u.push(""):u.push(n.slice(s)),u.length>f?u.slice(0,f):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var i=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,i,n):o.call(String(i),r,n)},function(t,e){var i=n(o,t,this,e,o!==r);if(i.done)return i.value;var a=bi(t),u=String(this),c=mi(a,RegExp),s=a.unicode,f=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(_i?"y":"g"),l=new c(_i?a:"^(?:"+a.source+")",f),p=void 0===e?4294967295:e>>>0;if(0===p)return[];if(0===u.length)return null===Oi(l,u)?[u]:[];for(var h=0,v=0,y=[];v<u.length;){l.lastIndex=_i?v:0;var d,g=Oi(l,_i?u:u.slice(v));if(null===g||(d=ji(wi(l.lastIndex+(_i?0:v)),u.length))===h)v=xi(u,v,s);else{if(y.push(u.slice(h,v)),y.length===p)return y;for(var b=1;b<=g.length-1;b++)if(y.push(g[b]),y.length===p)return y;v=h=d}}return y.push(u.slice(h)),y}]}));var Ti=["file","Bucket","module"],Ni=["file","Bucket","module"];function Ki(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ci(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t&&Ao(t)!==String)throw new Error("请传入你想要查询的字段名，并且参数为字符串");return e[t]||t}var Mi=Un((function t(e){var r,n=e.file,o=e.Bucket,i=e.module,a=An(e,Ti);Bn(this,t);var u=Ei(i,n);this.Key=u,this.row=n;var c=n.name,s=n.size,f=n.type,l=n.uuid,p=a.resFileKey;if(this.fileInfo=(En(r={},Ci("id",p),l),En(r,Ci("name",p),c),En(r,Ci("size",p),s),En(r,Ci("type",p),f),En(r,Ci("percentage",p),0),En(r,Ci("Key",p),u),En(r,Ci("url",p),null),En(r,Ci("status",p),1),r),this.Bucket=o,this.module=i,this.resumeHook=null,this.uploadCheckpoint=null,this.changingStatus=!1,this.obsInited=!1,this.uploadStatus=!1,this.uploadCount=1,a)for(var h in a)Object.hasOwnProperty.call(a,h)&&(this[h]=a[h])}));function Ri(t){try{var e=t||{},r=e.resFileKey,n=void 0===r?{}:r,o=e.fileInfo,i=void 0===o?{}:o;if(0===Object.keys(n))return;for(var a in i){var u=null;for(var c in n)if(n[c]===a){u=a;break}u||delete i[a]}}catch(t){console.log("handleResKey-error",t)}}function Bi(t){var e=t.file,r=t.Bucket,n=t.module,o=void 0===n?"member_center":n,i=An(t,Ni);return new Mi(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ki(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ki(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:e,Bucket:r,module:o},i))}function Di(t){return Ui.apply(this,arguments)}function Ui(){return(Ui=Tn(Mn.mark((function t(e){var r,n,o,i,a,u;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.fileInstance,n=e.getAuth,o=e.uploadError,t.prev=1,t.next=4,n();case 4:if(i=t.sent,a=i.ak,u=i.sk,a&&u){t.next=11;break}if(o&&o("授权所需的ak或者sk获取失败！"),o){t.next=11;break}throw new Error("授权所需的ak或者sk获取失败！");case 11:r.ak=a,r.sk=u,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log("saveAuth-error",t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}function Vi(t){t.fileInfo[Ci("status",t.resFileKey)]=t.toStatusVal,t.changingStatus=!1,t.statusChange&&t.statusChange(t.toStatusVal)}var Gi=["file"];function Hi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var Ji=function(){function t(){Bn(this,t),this.fileArr=[]}return Un(t,[{key:"addUploadingFile",value:function(t){var e=Bi(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hi(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:t.file},An(t,Gi)));return this.fileArr.push(e),e}},{key:"getUploadingFiles",value:function(){return this.fileArr}},{key:"getFileInstance",value:function(t){return this.fileArr.find((function(e){return e.Key===t}))||{}}},{key:"delFileInstance",value:function(t){var e=-1,r=this.fileArr.find((function(r,n){if(r.Key===t)return e=n,r}))||{},n=r.fileInfo[Ci("status",r.resFileKey)];return 1===Number(n)&&(r.fileInfo[Ci("status",r.resFileKey)]=-1,r.resumeHook&&r.resumeHook.cancel()),e>=0&&this.fileArr.splice(e,1),e}}]),t}(),zi=Qo,Wi={};Wi[Zt.exports("toStringTag")]="z",Wi+""!="[object z]"&&mt.exports(Object.prototype,"toString",(function(){return"[object "+zi(this)+"]"}),!0);var Yi={exports:{}},qi=et,$i={},Qi=$i,Xi=Zt.exports("iterator"),Zi=Array.prototype,ta=Qo,ea=Zt.exports("iterator"),ra=$i,na=I.exports.getIteratorMethod=function(t){if(null!=t)return t[ea]||t["@@iterator"]||ra[ta(t)]},oa=It,ia=function(t,e,r,n){try{return n?e(qi(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&qi(o.call(t)),e}},aa=function(t){return void 0!==t&&(Qi.Array===t||Zi[Xi]===t)},ua=et,ca=w,sa=na,fa={},la={},pa=Yi.exports=function(t,e,r,n,o){var i,a,u,c,s=o?function(){return t}:sa(t),f=oa(r,n,e?2:1),l=0;if("function"!=typeof s)throw TypeError(t+" is not iterable!");if(aa(s)){for(i=ca(t.length);i>l;l++)if((c=e?f(ua(a=t[l])[0],a[1]):f(t[l]))===fa||c===la)return c}else for(u=s.call(t);!(a=u.next()).done;)if((c=ia(u,f,a.value,e))===fa||c===la)return c};pa.BREAK=fa,pa.RETURN=la;var ha,va,ya,da=It,ga=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)},ba=je,ma=ut,xa=A.exports,wa=xa.process,Oa=xa.setImmediate,ka=xa.clearImmediate,Sa=xa.MessageChannel,ja=xa.Dispatch,Pa=0,_a={},Ea=function(){var t=+this;if(_a.hasOwnProperty(t)){var e=_a[t];delete _a[t],e()}},Ia=function(t){Ea.call(t.data)};Oa&&ka||(Oa=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return _a[++Pa]=function(){ga("function"==typeof t?t:Function(t),e)},ha(Pa),Pa},ka=function(t){delete _a[t]},"process"==f(wa)?ha=function(t){wa.nextTick(da(Ea,t,1))}:ja&&ja.now?ha=function(t){ja.now(da(Ea,t,1))}:Sa?(ya=(va=new Sa).port2,va.port1.onmessage=Ia,ha=da(ya.postMessage,ya,1)):xa.addEventListener&&"function"==typeof postMessage&&!xa.importScripts?(ha=function(t){xa.postMessage(t+"","*")},xa.addEventListener("message",Ia,!1)):ha="onreadystatechange"in ma("script")?function(t){ba.appendChild(ma("script")).onreadystatechange=function(){ba.removeChild(this),Ea.call(t)}}:function(t){setTimeout(da(Ea,t,1),0)});var Fa={set:Oa,clear:ka},Aa=A.exports,La=Fa.set,Ta=Aa.MutationObserver||Aa.WebKitMutationObserver,Na=Aa.process,Ka=Aa.Promise,Ca="process"==f(Na),Ma={},Ra=_t;function Ba(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Ra(e),this.reject=Ra(r)}Ma.f=function(t){return new Ba(t)};var Da=A.exports.navigator,Ua=Da&&Da.userAgent||"",Va=et,Ga=Z,Ha=Ma,Ja=mt.exports,za=A.exports,Wa=X,Ya=nt,qa=Zt.exports("species"),$a=Zt.exports("iterator"),Qa=!1;try{var Xa=[7][$a]();Xa.return=function(){Qa=!0},Array.from(Xa,(function(){throw 2}))}catch(t){}var Za,tu,eu,ru,nu=A.exports,ou=It,iu=Qo,au=Ct,uu=Z,cu=_t,su=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t},fu=Yi.exports,lu=Go,pu=Fa.set,hu=function(){var t,e,r,n=function(){var n,o;for(Ca&&(n=Na.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(Ca)r=function(){Na.nextTick(n)};else if(!Ta||Aa.navigator&&Aa.navigator.standalone)if(Ka&&Ka.resolve){var o=Ka.resolve(void 0);r=function(){o.then(n)}}else r=function(){La.call(Aa,n)};else{var i=!0,a=document.createTextNode("");new Ta(n).observe(a,{characterData:!0}),r=function(){a.data=i=!i}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,r()),e=o}}(),vu=Ma,yu=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},du=Ua,gu=function(t,e){if(Va(t),Ga(e)&&e.constructor===t)return e;var r=Ha.f(t);return(0,r.resolve)(e),r.promise},bu=nu.TypeError,mu=nu.process,xu=mu&&mu.versions,wu=xu&&xu.v8||"",Ou=nu.Promise,ku="process"==iu(mu),Su=function(){},ju=tu=vu.f,Pu=!!function(){try{var t=Ou.resolve(1),e=(t.constructor={})[require("./_wks")("species")]=function(t){t(Su,Su)};return(ku||"function"==typeof PromiseRejectionEvent)&&t.then(Su)instanceof e&&0!==wu.indexOf("6.6")&&-1===du.indexOf("Chrome/66")}catch(t){}}(),_u=function(t){var e;return!(!uu(t)||"function"!=typeof(e=t.then))&&e},Eu=function(t,e){if(!t._n){t._n=!0;var r=t._c;hu((function(){for(var n=t._v,o=1==t._s,i=0,a=function(e){var r,i,a,u=o?e.ok:e.fail,c=e.resolve,s=e.reject,f=e.domain;try{u?(o||(2==t._h&&Au(t),t._h=1),!0===u?r=n:(f&&f.enter(),r=u(n),f&&(f.exit(),a=!0)),r===e.promise?s(bu("Promise-chain cycle")):(i=_u(r))?i.call(r,c,s):c(r)):s(n)}catch(t){f&&!a&&f.exit(),s(t)}};r.length>i;)a(r[i++]);t._c=[],t._n=!1,e&&!t._h&&Iu(t)}))}},Iu=function(t){pu.call(nu,(function(){var e,r,n,o=t._v,i=Fu(t);if(i&&(e=yu((function(){ku?mu.emit("unhandledRejection",o,t):(r=nu.onunhandledrejection)?r({promise:t,reason:o}):(n=nu.console)&&n.error})),t._h=ku||Fu(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},Fu=function(t){return 1!==t._h&&0===(t._a||t._c).length},Au=function(t){pu.call(nu,(function(){var e;ku?mu.emit("rejectionHandled",t):(e=nu.onrejectionhandled)&&e({promise:t,reason:t._v})}))},Lu=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Eu(e,!0))},Tu=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw bu("Promise can't be resolved itself");(e=_u(t))?hu((function(){var n={_w:r,_d:!1};try{e.call(t,ou(Tu,n,1),ou(Lu,n,1))}catch(t){Lu.call(n,t)}})):(r._v=t,r._s=1,Eu(r,!1))}catch(t){Lu.call({_w:r,_d:!1},t)}}};Pu||(Ou=function(t){su(this,Ou,"Promise","_h"),cu(t),Za.call(this);try{t(ou(Tu,this,1),ou(Lu,this,1))}catch(t){Lu.call(this,t)}},(Za=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,r){for(var n in e)Ja(t,n,e[n],r);return t}(Ou.prototype,{then:function(t,e){var r=ju(lu(this,Ou));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=ku?mu.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&Eu(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),eu=function(){var t=new Za;this.promise=t,this.resolve=ou(Tu,t,1),this.reject=ou(Lu,t,1)},vu.f=ju=function(t){return t===Ou||t===ru?new eu(t):tu(t)}),au(au.G+au.W+au.F*!Pu,{Promise:Ou}),ue(Ou,"Promise"),function(t){var e=za[t];Ya&&e&&!e[qa]&&Wa.f(e,qa,{configurable:!0,get:function(){return this}})}("Promise"),ru=I.exports.Promise,au(au.S+au.F*!Pu,"Promise",{reject:function(t){var e=ju(this);return(0,e.reject)(t),e.promise}}),au(au.S+au.F*!Pu,"Promise",{resolve:function(t){return gu(this,t)}}),au(au.S+au.F*!(Pu&&function(t,e){if(!e&&!Qa)return!1;var r=!1;try{var n=[7],o=n[$a]();o.next=function(){return{done:r=!0}},n[$a]=function(){return o},t(n)}catch(t){}return r}((function(t){Ou.all(t).catch(Su)}))),"Promise",{all:function(t){var e=this,r=ju(e),n=r.resolve,o=r.reject,i=yu((function(){var r=[],i=0,a=1;fu(t,!1,(function(t){var u=i++,c=!1;r.push(void 0),a++,e.resolve(t).then((function(t){c||(c=!0,r[u]=t,--a||n(r))}),o)})),--a||n(r)}));return i.e&&o(i.v),r.promise},race:function(t){var e=this,r=ju(e),n=r.reject,o=yu((function(){fu(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return o.e&&n(o.v),r.promise}});var Nu=Le,Ku=yt,Cu=ue,Mu={};bt(Mu,Zt.exports("iterator"),(function(){return this}));var Ru=c,Bu=a,Du=V("IE_PROTO"),Uu=Object.prototype,Vu=Object.getPrototypeOf||function(t){return t=Bu(t),Ru(t,Du)?t[Du]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Uu:null},Gu=Ct,Hu=mt.exports,Ju=bt,zu=$i,Wu=function(t,e,r){t.prototype=Nu(Mu,{next:Ku(1,r)}),Cu(t,e+" Iterator")},Yu=ue,qu=Vu,$u=Zt.exports("iterator"),Qu=!([].keys&&"next"in[].keys()),Xu=function(){return this},Zu=function(t,e,r,n,o,i,a){Wu(r,e,n);var u,c,s,f=function(t){if(!Qu&&t in v)return v[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},l=e+" Iterator",p="values"==o,h=!1,v=t.prototype,y=v[$u]||v["@@iterator"]||o&&v[o],d=y||f(o),g=o?p?f("entries"):d:void 0,b="Array"==e&&v.entries||y;if(b&&(s=qu(b.call(new t)))!==Object.prototype&&s.next&&(Yu(s,l,!0),"function"!=typeof s[$u]&&Ju(s,$u,Xu)),p&&y&&"values"!==y.name&&(h=!0,d=function(){return y.call(this)}),(Qu||h||!v[$u])&&Ju(v,$u,d),zu[e]=d,zu[l]=Xu,o)if(u={values:p?d:f("values"),keys:i?d:f("keys"),entries:g},a)for(c in u)c in v||Hu(v,c,u[c]);else Gu(Gu.P+Gu.F*(Qu||h),e,u);return u},tc=zo(!0);Zu(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=tc(e,r),this._i+=t.length,{value:t,done:!1})}));var ec=Hn,rc=function(t,e){return{value:e,done:!!t}},nc=$i,oc=y,ic=Zu(Array,"Array",(function(t,e){this._t=oc(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,rc(1)):rc(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values");nc.Arguments=nc.Array,ec("keys"),ec("values"),ec("entries");for(var ac=ic,uc=Q,cc=mt.exports,sc=A.exports,fc=bt,lc=$i,pc=Zt.exports,hc=pc("iterator"),vc=pc("toStringTag"),yc=lc.Array,dc={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},gc=uc(dc),bc=0;bc<gc.length;bc++){var mc,xc=gc[bc],wc=dc[xc],Oc=sc[xc],kc=Oc&&Oc.prototype;if(kc&&(kc[hc]||fc(kc,hc,yc),kc[vc]||fc(kc,vc,xc),lc[xc]=yc,wc))for(mc in ac)kc[mc]||cc(kc,mc,ac[mc],!0)}var Sc={};function jc(t){var e=t.ak,n=t.sk,o=t.endPoint,i=t.Bucket,a=t.isRefresh,u=function(t){return t&&Sc[t]}(i);if(u&&u.instance&&!a)return u.instance;u||(u=Sc[i]={});var c=function(t){var e=t.ak,n=t.sk,o=t.endPoint,i=t.obsType;if(e=e||i.ak,n=n||i.sk,o=o||i.endPoint,!e||!n||!o)throw new Error("请传入".concat(e?"":"ak").concat(n?"":"sk").concat(o?"":"endPoint","值"));var a=new r({access_key_id:e,secret_access_key:n,server:"https://".concat(o),timeout:30});return i.ak=e,i.sk=n,i.endPoint=o,i.instance=a,a}({ak:e,sk:n,endPoint:o,obsType:u});return c}var Pc=["file","onBeforeUpload","uploadSuccess","uploadError","uploadProgress","upFileArrInstance"];function _c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ec(t){var e=t.file,r=t.onBeforeUpload,n=t.uploadSuccess,o=t.uploadError,i=t.uploadProgress,a=t.upFileArrInstance,u=An(t,Pc),c=a.addUploadingFile(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_c(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:e},u));return c.uploadSuccess=n,c.uploadError=o,c.uploadProgress=i,c.Bucket,c.module,r&&!1===r(c.row)&&Ic("文件上传前的回调函数（onBeforeUpload）返回了false则不进行文件上传"),c}function Ic(t,e){throw e&&(e.fileInfo[Ci("status",e.resFileKey)]=2,e.uploadCount=1,e.changingStatus=!1,e.uploadStatus=!1,e.statusChange&&e.statusChange(2),e.uploadError&&e.uploadError(t,e.fileInfo[Ci("status",e.resFileKey)])),new Error(t)}function Fc(t){return Ac.apply(this,arguments)}function Ac(){return Ac=Tn(Mn.mark((function t(e){var r,n,o,i,a,u;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.fileInstance,n=e.upFileArrInstance,o=e.endPoint,t.prev=1,i=r.beforeSuccess,t.t0=i,!t.t0){t.next=8;break}return t.next=7,i(r);case 7:t.t0=t.sent;case 8:a=t.t0,r.fileInfo[Ci("status",r.resFileKey)]=3,u=Ii({fileInstance:r,endPoint:o}),r.fileInfo[Ci("url",r.resFileKey)]=u,r.uploadSuccess&&r.uploadSuccess(u,r.fileInfo[Ci("status",r.resFileKey)],a),r.statusChange&&r.statusChange(3),Ri(r),n&&n.delFileInstance(r.Key),t.next=21;break;case 18:t.prev=18,t.t1=t.catch(1),console.log("上传成功处理函数error",t.t1);case 21:case"end":return t.stop()}}),t,null,[[1,18]])}))),Ac.apply(this,arguments)}function Lc(t,e,r,n){var o=Math.floor(t/e*100),i=n.fileInfo.percentage;console.log("prevPercent,percentage",i,o),n.uploadCount=1,o>i&&(n.uploadCount=1);var a=i>o?i:o;n.fileInfo.percentage=a,n.uploadProgress&&n.uploadProgress(a)}function Tc(t){return Nc.apply(this,arguments)}function Nc(){return Nc=Tn(Mn.mark((function t(e){var r,n,o;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.ak,n=e.sk,o=e.fileUrl,t.abrupt("return",new Promise(function(){var t=Tn(Mn.mark((function t(e,i){var a,u,c,s;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return a=Fi(o),u=a.Bucket,c=a.Key,s=a.endPoint,t.next=5,jc({Bucket:u,ak:r,sk:n,endPoint:s});case 5:t.sent.deleteObject({Bucket:u,Key:c},(function(t,r){t&&i(t),e(r.CommonMsg.Status)}));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)}))),Nc.apply(this,arguments)}function Kc(t,e,r){return Cc.apply(this,arguments)}function Cc(){return(Cc=Tn(Mn.mark((function t(e,r,n){var o,i,a,u,c,s,f,l,p;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return");case 2:o=Li(e),i=[],t.t0=Mn.keys(o);case 5:if((t.t1=t.t0()).done){t.next=14;break}return a=t.t1.value,u=o[a]||{},c=u.Bucket,s=u.endPoint,f=u.objects,t.next=10,jc({Bucket:c,ak:r,sk:n,endPoint:s});case 10:l=t.sent,i.push(Mc(l,c,f)),t.next=5;break;case 14:return t.next=16,Promise.all(i);case 16:return p=t.sent,t.abrupt("return",p);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mc(t,e,r){return new Promise((function(n,o){t.deleteObjects({Bucket:e,Quiet:!1,Objects:r},(function(t,e){if(t)console.log("删除异常",t),o(t);else if(e.CommonMsg.Status<300&&e.InterfaceResult){var r=e.InterfaceResult||{},i=r.Deleteds,a=r.Errors;n({Deleteds:i,Errors:a})}}))}))}function Rc(t){return Bc.apply(this,arguments)}function Bc(){return(Bc=Tn(Mn.mark((function t(r){var n,o,i,a,u,c,s,f;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fileUrl,o=r.fileName,i=r.ak,a=r.sk,t.prev=1,n){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Dc({fileUrl:n,ak:i,sk:a});case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:if(u=t.t0,c=u.SignedUrl,s=u.ActualSignedRequestHeaders,c){t.next=14;break}throw new Error("没有获取到临时授权url");case 14:return t.next=16,e.request({method:"GET",url:c,withCredentials:!1,headers:s||{},validateStatus:function(t){return t>=200},maxRedirects:0,responseType:"blob"});case 16:if(!((f=t.sent).status<300)){t.next=20;break}return Ai({blob:f.data,fileUrl:n,fileName:o}),t.abrupt("return");case 20:throw new Error("临时授权文件下载失败");case 23:t.prev=23,t.t1=t.catch(1),Ai({fileUrl:n,fileName:o});case 26:case"end":return t.stop()}}),t,null,[[1,23]])})))).apply(this,arguments)}function Dc(t){return Uc.apply(this,arguments)}function Uc(){return(Uc=Tn(Mn.mark((function t(e){var r,n,o,i,a,u,c,s,f;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.fileUrl,n=e.ak,o=e.sk,i=Fi(r),a=i.Bucket,u=i.Key,c=i.endPoint,t.next=4,jc({Bucket:a,ak:n,sk:o,endPoint:c});case 4:return s=t.sent,f=s.createSignedUrlSync({Method:"GET",Bucket:a,Key:u,Expires:3600}),t.abrupt("return",f);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vc(t,e){return console.log("进入uploadFileObsServe",JSON.parse(JSON.stringify(t))),-1===t.toStatusVal?(console.log("进入暂停-uploadFileObsServe"),e&&(t.fileInfo[Ci("status",t.resFileKey)]=t.toStatusVal),t.toStatusVal=void 0,t.changingStatus=!1,{createInterf:!1,uploadStatus:!1}):1==t.toStatusVal&&t.uploadStatus?(console.log("文件处于上传中的状态时，有接口请求尚未结束-uploadFileObsServe",JSON.parse(JSON.stringify(t))),{createInterf:!1,uploadStatus:!0}):{createInterf:!0,uploadStatus:!0}}function Gc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Hc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gc(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Jc(t){return zc.apply(this,arguments)}function zc(){return zc=Tn(Mn.mark((function t(e){var r,n,o,i,a,u,c,s,f,l,p,h,v;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.fileParams,n=void 0===r?{}:r,o=e.fileInstance,i=e.Key,a=e.upFileArrInstance,u=e.beforeSuccess,o=o||a.getFileInstance(i||n.Key),u&&(o.beforeSuccess=u),t.prev=3,!o.obsInited||Vc(o).createInterf){t.next=6;break}return t.abrupt("return");case 6:return o.uploadStatus=!0,f=(s=o).Bucket,l=s.ak,p=s.sk,h=s.endPoint,t.next=10,jc({ak:l,sk:p,endPoint:h,Bucket:f,isRefresh:!0});case 10:if(v=t.sent,o.uploadStatus=!1,Vc(o,!0).createInterf){t.next=15;break}return o.obsInited||-1!==o.toStatusVal||(console.log("进入-没有初始化成功过"),Vi(o)),t.abrupt("return");case 15:o.uploadStatus=!0,v.uploadFile(Hc({ProgressCallback:function(t,e,r){o.fileInfo[Ci("status",o.resFileKey)]=1,Lc(t,e,0,o)},EventCallback:function(t,e,r){if(r instanceof Error){console.log("errMsg",r.message);var n=r.message;-1!==n.indexOf("Network Error")&&Ic(n,o)}},ResumeCallback:function(t,e){o.resumeHook=t,o.uploadCheckpoint=e,c=e,-1===o.toStatusVal?t.cancel():(o.changingStatus&&o.toStatusVal&&Vi(o),o.toStatusVal=void 0),o.obsInited=!0},TaskNum:6,PartSize:9437184},n),(function(t,e){if(o.changingStatus=!1,o.uploadStatus=!1,t){var r=JSON.parse(JSON.stringify(a.getFileInstance(i||n.Key)));if(!r||!r.fileInfo)return void console.log("进入解决被删除的情况");if(-1===r.toStatusVal)return Vi(o),o.uploadStatus=!1,void(o.toStatusVal=void 0);if(3===Number(o.fileInfo[Ci("status",o.resFileKey)]))return;var u=Number(o.uploadCount);u<3?(Jc({fileParams:{UploadCheckpoint:c},fileInstance:o,Key:i,upFileArrInstance:a}),o.uploadCount=u+1):Ic(t,o)}else e&&e.CommonMsg&&200==e.CommonMsg.Status&&Fc({fileInstance:o,upFileArrInstance:a,endPoint:v.util.server})})),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(3),Ic(t.t0,o);case 22:return t.prev=22,t.finish(22);case 24:case"end":return t.stop()}}),t,null,[[3,19,22,24]])}))),zc.apply(this,arguments)}function Wc(t){var e=t.Key,r=t.upFileArrInstance;if(e){var n=r.getFileInstance(e),o=n.fileInfo,i=n.uploadCheckpoint,a=n.resumeHook,u=n.Bucket,c=n.row,s=Number(o.status);return 3===s||!s||n.changingStatus?s:(n.changingStatus=!0,-1===s||2===s?(n.toStatusVal=1,n.uploadCount=1,i?function(t){var e=t.uploadCheckpoint,r=t.fileInstance,n=t.upFileArrInstance,o=t.Key;if(!e)return;Jc({fileParams:{UploadCheckpoint:e},Key:o,fileInstance:r,upFileArrInstance:n})}({uploadCheckpoint:i,fileInstance:n,upFileArrInstance:r,Key:e}):Jc({fileParams:{Bucket:u,Key:e,SourceFile:c},Key:e,upFileArrInstance:r})):function(t,e){if(-1==e.toStatusVal)return;e.toStatusVal=-1,t&&t.cancel()}(a,n))}}var Yc={breakpointResume:{uploadFun:function(t){var e=t.Bucket,r=t.fileObj,n=t.Key;Jc({fileParams:{Bucket:e,Key:n,SourceFile:r},Key:n,obsInstance:t.obsInstance,upFileArrInstance:t.upFileArrInstance})}}};function qc(t){var e=t.uploadType,r=t.Bucket,n=t.Key,o=t.fileObj,i=t.upFileArrInstance;(0,(Yc[e=e||"breakpointResume"]||Yc.breakpointResume||{}).uploadFun)({Bucket:r,fileObj:o,Key:n,upFileArrInstance:i})}var $c=["file","onBeforeUpload","uploadSuccess","uploadError","uploadProgress","getAuth"];function Qc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var Xc=new Ji;function Zc(t){return ts.apply(this,arguments)}function ts(){return(ts=Tn(Mn.mark((function t(e){var r,n,o,i,a;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.Key,n=e.fileUrl,o=e.ak,i=e.sk,t.prev=1,!r||n){t.next=7;break}if(-1!==Xc.delFileInstance(r)){t.next=6;break}throw new Error("文件不存在");case 6:return t.abrupt("return",200);case 7:return t.next=9,Tc({ak:o,sk:i,fileUrl:n});case 9:return a=t.sent,t.abrupt("return",a);case 13:throw t.prev=13,t.t0=t.catch(1),new Error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}function es(t){return rs.apply(this,arguments)}function rs(){return(rs=Tn(Mn.mark((function t(e){var r,n,o,i,a,u,c,s;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.KeyList,n=void 0===r?[]:r,o=e.urlList,i=void 0===o?[]:o,a=e.ak,u=e.sk,t.prev=1,c=[],s=[],n&&n.length>0&&n.map((function(t){-1===Xc.delFileInstance(t)?console.log("删除本地正在上传的文件-Key:".concat(t,"不存在")):c.push({Key:t})})),t.next=7,Kc(i,a,u);case 7:if(t.t0=t.sent,t.t0){t.next=10;break}t.t0=[];case 10:return t.t0.map((function(t){var e=t.Deleteds,r=t.Errors;c=c.concat(e),s=s.concat(r)})),t.abrupt("return",{delSuccess:c,delError:s});case 15:throw t.prev=15,t.t1=t.catch(1),new Error(t.t1);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}function ns(t){var e=t.file,r=t.onBeforeUpload,n=t.uploadSuccess,o=t.uploadError,i=t.uploadProgress,a=t.getAuth,u=An(t,$c),c=Ec(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qc(Object(r),!0).forEach((function(e){En(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:e,onBeforeUpload:r,uploadSuccess:n,uploadError:o,uploadProgress:i,upFileArrInstance:Xc},u)),s=c.fileInfo;return function(t){os.apply(this,arguments)}({fileInstance:c,getAuth:a,uploadType:u.uploadType,uploadError:o}),s}function os(){return(os=Tn(Mn.mark((function t(e){var r,n,o,i,a,u,c,s;return Mn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.fileInstance,n=e.getAuth,o=e.uploadType,i=e.uploadError,a=r.Bucket,u=r.Key,c=r.row,s=r.fileInfo,t.next=4,Di({fileInstance:r,getAuth:n,uploadError:i});case 4:if(-1!==s.toStatusVal){t.next=7;break}return Vi(r),t.abrupt("return");case 7:qc({uploadType:o,Bucket:a,Key:u,fileObj:c,upFileArrInstance:Xc});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var is=t.debounce((function(t){Wc({Key:t,upFileArrInstance:Xc})}),100);export{is as breakpointResume,Zc as delFile,Rc as downloadFile,Fi as getBucketAndKeyByUrl,Dc as getSignedFileUrl,es as multiDelFile,ns as uploadFile};
