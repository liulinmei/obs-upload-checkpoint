"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("lodash-es"),e=require("axios"),r=require("esdk-obs-browserjs");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=n(t),i=n(e),a=n(r);function c(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},s=u,l=function(t){return Object(s(t))},f={}.hasOwnProperty,p=function(t,e){return f.call(t,e)},h={}.toString,v=function(t){return h.call(t).slice(8,-1)},y=v,d=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==y(t)?t.split(""):Object(t)},g=d,b=u,m=function(t){return g(b(t))},x=Math.ceil,O=Math.floor,w=function(t){return isNaN(t=+t)?0:(t>0?O:x)(t)},S=w,k=Math.min,j=function(t){return t>0?k(S(t),9007199254740991):0},P=w,_=Math.max,E=Math.min,I=m,F=j,N=function(t,e){return(t=P(t))<0?_(t+e,0):E(t,e)},A={exports:{}},L={exports:{}},T=L.exports={version:"2.6.12"};"number"==typeof __e&&(__e=T);var K={exports:{}},C=K.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=C);var M=L.exports,R=K.exports,B=R["__core-js_shared__"]||(R["__core-js_shared__"]={});(A.exports=function(t,e){return B[t]||(B[t]=void 0!==e?e:{})})("versions",[]).push({version:M.version,mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"});var D,U=0,V=Math.random(),G=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++U+V).toString(36))},J=A.exports("keys"),H=G,q=function(t){return J[t]||(J[t]=H(t))},z=p,W=m,Y=(D=!1,function(t,e,r){var n,o=I(t),i=F(o.length),a=N(r,i);if(D&&e!=e){for(;i>a;)if((n=o[a++])!=n)return!0}else for(;i>a;a++)if((D||a in o)&&o[a]===e)return D||a||0;return!D&&-1}),$=q("IE_PROTO"),Q=function(t,e){var r,n=W(t),o=0,i=[];for(r in n)r!=$&&z(n,r)&&i.push(r);for(;e.length>o;)z(n,r=e[o++])&&(~Y(i,r)||i.push(r));return i},X="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Z=Q,tt=X,et=Object.keys||function(t){return Z(t,tt)},rt={},nt=function(t){return"object"==typeof t?null!==t:"function"==typeof t},ot=nt,it=function(t){if(!ot(t))throw TypeError(t+" is not an object!");return t},at=function(t){try{return!!t()}catch(t){return!0}},ct=!at((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),ut=nt,st=K.exports.document,lt=ut(st)&&ut(st.createElement),ft=function(t){return lt?st.createElement(t):{}},pt=!ct&&!at((function(){return 7!=Object.defineProperty(ft("div"),"a",{get:function(){return 7}}).a})),ht=nt,vt=function(t,e){if(!ht(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!ht(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!ht(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!ht(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},yt=it,dt=pt,gt=vt,bt=Object.defineProperty;rt.f=ct?Object.defineProperty:function(t,e,r){if(yt(t),e=gt(e,!0),yt(r),dt)try{return bt(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t};var mt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},xt=rt,Ot=mt,wt=ct?function(t,e,r){return xt.f(t,e,Ot(1,r))}:function(t,e,r){return t[e]=r,t},St={exports:{}},kt=A.exports("native-function-to-string",Function.toString),jt=K.exports,Pt=wt,_t=p,Et=G("src"),It=kt,Ft=(""+It).split("toString");L.exports.inspectSource=function(t){return It.call(t)},(St.exports=function(t,e,r,n){var o="function"==typeof r;o&&(_t(r,"name")||Pt(r,"name",e)),t[e]!==r&&(o&&(_t(r,Et)||Pt(r,Et,t[e]?""+t[e]:Ft.join(String(e)))),t===jt?t[e]=r:n?t[e]?t[e]=r:Pt(t,e,r):(delete t[e],Pt(t,e,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[Et]||It.call(this)}));var Nt=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},At=Nt,Lt=function(t,e,r){if(At(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},Tt=K.exports,Kt=L.exports,Ct=wt,Mt=St.exports,Rt=Lt,Bt=function(t,e,r){var n,o,i,a,c=t&Bt.F,u=t&Bt.G,s=t&Bt.S,l=t&Bt.P,f=t&Bt.B,p=u?Tt:s?Tt[e]||(Tt[e]={}):(Tt[e]||{}).prototype,h=u?Kt:Kt[e]||(Kt[e]={}),v=h.prototype||(h.prototype={});for(n in u&&(r=e),r)i=((o=!c&&p&&void 0!==p[n])?p:r)[n],a=f&&o?Rt(i,Tt):l&&"function"==typeof i?Rt(Function.call,i):i,p&&Mt(p,n,i,t&Bt.U),h[n]!=i&&Ct(h,n,a),l&&v[n]!=i&&(v[n]=i)};Tt.core=Kt,Bt.F=1,Bt.G=2,Bt.S=4,Bt.P=8,Bt.B=16,Bt.W=32,Bt.U=64,Bt.R=128;var Dt=Bt,Ut=Dt,Vt=L.exports,Gt=at,Jt=function(t,e){var r=(Vt.Object||{})[t]||Object[t],n={};n[t]=e(r),Ut(Ut.S+Ut.F*Gt((function(){r(1)})),"Object",n)},Ht=l,qt=et;Jt("keys",(function(){return function(t){return qt(Ht(t))}}));var zt={exports:{}},Wt=G("meta"),Yt=nt,$t=p,Qt=rt.f,Xt=0,Zt=Object.isExtensible||function(){return!0},te=!at((function(){return Zt(Object.preventExtensions({}))})),ee=function(t){Qt(t,Wt,{value:{i:"O"+ ++Xt,w:{}}})},re=zt.exports={KEY:Wt,NEED:!1,fastKey:function(t,e){if(!Yt(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!$t(t,Wt)){if(!Zt(t))return"F";if(!e)return"E";ee(t)}return t[Wt].i},getWeak:function(t,e){if(!$t(t,Wt)){if(!Zt(t))return!0;if(!e)return!1;ee(t)}return t[Wt].w},onFreeze:function(t){return te&&re.NEED&&Zt(t)&&!$t(t,Wt)&&ee(t),t}},ne={exports:{}},oe=A.exports("wks"),ie=G,ae=K.exports.Symbol,ce="function"==typeof ae;(ne.exports=function(t){return oe[t]||(oe[t]=ce&&ae[t]||(ce?ae:ie)("Symbol."+t))}).store=oe;var ue=rt.f,se=p,le=ne.exports("toStringTag"),fe=function(t,e,r){t&&!se(t=r?t:t.prototype,le)&&ue(t,le,{configurable:!0,value:e})},pe={};pe.f=ne.exports;var he=K.exports,ve=L.exports,ye=pe,de=rt.f,ge={};ge.f=Object.getOwnPropertySymbols;var be={};be.f={}.propertyIsEnumerable;var me=et,xe=ge,Oe=be,we=v,Se=Array.isArray||function(t){return"Array"==we(t)},ke=rt,je=it,Pe=et,_e=ct?Object.defineProperties:function(t,e){je(t);for(var r,n=Pe(e),o=n.length,i=0;o>i;)ke.f(t,r=n[i++],e[r]);return t},Ee=K.exports.document,Ie=Ee&&Ee.documentElement,Fe=it,Ne=_e,Ae=X,Le=q("IE_PROTO"),Te=function(){},Ke=function(){var t,e=ft("iframe"),r=Ae.length;for(e.style.display="none",Ie.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Ke=t.F;r--;)delete Ke.prototype[Ae[r]];return Ke()},Ce=Object.create||function(t,e){var r;return null!==t?(Te.prototype=Fe(t),r=new Te,Te.prototype=null,r[Le]=t):r=Ke(),void 0===e?r:Ne(r,e)},Me={},Re={},Be=Q,De=X.concat("length","prototype");Re.f=Object.getOwnPropertyNames||function(t){return Be(t,De)};var Ue=m,Ve=Re.f,Ge={}.toString,Je="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Me.f=function(t){return Je&&"[object Window]"==Ge.call(t)?function(t){try{return Ve(t)}catch(t){return Je.slice()}}(t):Ve(Ue(t))};var He={},qe=be,ze=mt,We=m,Ye=vt,$e=p,Qe=pt,Xe=Object.getOwnPropertyDescriptor;He.f=ct?Xe:function(t,e){if(t=We(t),e=Ye(e,!0),Qe)try{return Xe(t,e)}catch(t){}if($e(t,e))return ze(!qe.f.call(t,e),t[e])};var Ze=K.exports,tr=p,er=ct,rr=Dt,nr=St.exports,or=zt.exports.KEY,ir=at,ar=A.exports,cr=fe,ur=G,sr=ne.exports,lr=pe,fr=function(t){var e=ve.Symbol||(ve.Symbol=he.Symbol||{});"_"==t.charAt(0)||t in e||de(e,t,{value:ye.f(t)})},pr=function(t){var e=me(t),r=xe.f;if(r)for(var n,o=r(t),i=Oe.f,a=0;o.length>a;)i.call(t,n=o[a++])&&e.push(n);return e},hr=Se,vr=it,yr=nt,dr=l,gr=m,br=vt,mr=mt,xr=Ce,Or=Me,wr=He,Sr=ge,kr=rt,jr=et,Pr=wr.f,_r=kr.f,Er=Or.f,Ir=Ze.Symbol,Fr=Ze.JSON,Nr=Fr&&Fr.stringify,Ar=sr("_hidden"),Lr=sr("toPrimitive"),Tr={}.propertyIsEnumerable,Kr=ar("symbol-registry"),Cr=ar("symbols"),Mr=ar("op-symbols"),Rr=Object.prototype,Br="function"==typeof Ir&&!!Sr.f,Dr=Ze.QObject,Ur=!Dr||!Dr.prototype||!Dr.prototype.findChild,Vr=er&&ir((function(){return 7!=xr(_r({},"a",{get:function(){return _r(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=Pr(Rr,e);n&&delete Rr[e],_r(t,e,r),n&&t!==Rr&&_r(Rr,e,n)}:_r,Gr=function(t){var e=Cr[t]=xr(Ir.prototype);return e._k=t,e},Jr=Br&&"symbol"==typeof Ir.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Ir},Hr=function(t,e,r){return t===Rr&&Hr(Mr,e,r),vr(t),e=br(e,!0),vr(r),tr(Cr,e)?(r.enumerable?(tr(t,Ar)&&t[Ar][e]&&(t[Ar][e]=!1),r=xr(r,{enumerable:mr(0,!1)})):(tr(t,Ar)||_r(t,Ar,mr(1,{})),t[Ar][e]=!0),Vr(t,e,r)):_r(t,e,r)},qr=function(t,e){vr(t);for(var r,n=pr(e=gr(e)),o=0,i=n.length;i>o;)Hr(t,r=n[o++],e[r]);return t},zr=function(t){var e=Tr.call(this,t=br(t,!0));return!(this===Rr&&tr(Cr,t)&&!tr(Mr,t))&&(!(e||!tr(this,t)||!tr(Cr,t)||tr(this,Ar)&&this[Ar][t])||e)},Wr=function(t,e){if(t=gr(t),e=br(e,!0),t!==Rr||!tr(Cr,e)||tr(Mr,e)){var r=Pr(t,e);return!r||!tr(Cr,e)||tr(t,Ar)&&t[Ar][e]||(r.enumerable=!0),r}},Yr=function(t){for(var e,r=Er(gr(t)),n=[],o=0;r.length>o;)tr(Cr,e=r[o++])||e==Ar||e==or||n.push(e);return n},$r=function(t){for(var e,r=t===Rr,n=Er(r?Mr:gr(t)),o=[],i=0;n.length>i;)!tr(Cr,e=n[i++])||r&&!tr(Rr,e)||o.push(Cr[e]);return o};Br||(nr((Ir=function(){if(this instanceof Ir)throw TypeError("Symbol is not a constructor!");var t=ur(arguments.length>0?arguments[0]:void 0),e=function(r){this===Rr&&e.call(Mr,r),tr(this,Ar)&&tr(this[Ar],t)&&(this[Ar][t]=!1),Vr(this,t,mr(1,r))};return er&&Ur&&Vr(Rr,t,{configurable:!0,set:e}),Gr(t)}).prototype,"toString",(function(){return this._k})),wr.f=Wr,kr.f=Hr,Re.f=Or.f=Yr,be.f=zr,Sr.f=$r,er&&nr(Rr,"propertyIsEnumerable",zr,!0),lr.f=function(t){return Gr(sr(t))}),rr(rr.G+rr.W+rr.F*!Br,{Symbol:Ir});for(var Qr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Xr=0;Qr.length>Xr;)sr(Qr[Xr++]);for(var Zr=jr(sr.store),tn=0;Zr.length>tn;)fr(Zr[tn++]);rr(rr.S+rr.F*!Br,"Symbol",{for:function(t){return tr(Kr,t+="")?Kr[t]:Kr[t]=Ir(t)},keyFor:function(t){if(!Jr(t))throw TypeError(t+" is not a symbol!");for(var e in Kr)if(Kr[e]===t)return e},useSetter:function(){Ur=!0},useSimple:function(){Ur=!1}}),rr(rr.S+rr.F*!Br,"Object",{create:function(t,e){return void 0===e?xr(t):qr(xr(t),e)},defineProperty:Hr,defineProperties:qr,getOwnPropertyDescriptor:Wr,getOwnPropertyNames:Yr,getOwnPropertySymbols:$r});var en=ir((function(){Sr.f(1)}));rr(rr.S+rr.F*en,"Object",{getOwnPropertySymbols:function(t){return Sr.f(dr(t))}}),Fr&&rr(rr.S+rr.F*(!Br||ir((function(){var t=Ir();return"[null]"!=Nr([t])||"{}"!=Nr({a:t})||"{}"!=Nr(Object(t))}))),"JSON",{stringify:function(t){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=e=n[1],(yr(e)||void 0!==t)&&!Jr(t))return hr(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Jr(e))return e}),n[1]=e,Nr.apply(Fr,n)}}),Ir.prototype[Lr]||wt(Ir.prototype,Lr,Ir.prototype.valueOf),cr(Ir,"Symbol"),cr(Math,"Math",!0),cr(Ze.JSON,"JSON",!0);var rn=nt,nn=Se,on=ne.exports("species"),an=function(t){var e;return nn(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!nn(e.prototype)||(e=void 0),rn(e)&&null===(e=e[on])&&(e=void 0)),void 0===e?Array:e},cn=Lt,un=d,sn=l,ln=j,fn=function(t,e){return new(an(t))(e)},pn=function(t,e){var r=1==t,n=2==t,o=3==t,i=4==t,a=6==t,c=5==t||a,u=e||fn;return function(e,s,l){for(var f,p,h=sn(e),v=un(h),y=cn(s,l,3),d=ln(v.length),g=0,b=r?u(e,d):n?u(e,0):void 0;d>g;g++)if((c||g in v)&&(p=y(f=v[g],g,h),t))if(r)b[g]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return g;case 2:b.push(f)}else if(i)return!1;return a?-1:o||i?i:b}},hn=at,vn=function(t,e){return!!t&&hn((function(){e?t.call(null,(function(){}),1):t.call(null)}))},yn=Dt,dn=pn(2);yn(yn.P+yn.F*!vn([].filter,!0),"Array",{filter:function(t){return dn(this,t,arguments[1])}});var gn=m,bn=He.f;Jt("getOwnPropertyDescriptor",(function(){return function(t,e){return bn(gn(t),e)}}));var mn=Re,xn=ge,On=it,wn=K.exports.Reflect,Sn=wn&&wn.ownKeys||function(t){var e=mn.f(On(t)),r=xn.f;return r?e.concat(r(t)):e},kn=rt,jn=mt,Pn=Sn,_n=m,En=He,In=function(t,e,r){e in t?kn.f(t,e,jn(0,r)):t[e]=r};Dt(Dt.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=_n(t),o=En.f,i=Pn(n),a={},c=0;i.length>c;)void 0!==(r=o(n,e=i[c++]))&&In(a,e,r);return a}});var Fn,Nn={exports:{}};(Fn=Nn).exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},Fn.exports.__esModule=!0,Fn.exports.default=Fn.exports;var An=c(Nn.exports),Ln={exports:{}},Tn={exports:{}};!function(t){t.exports=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o},t.exports.__esModule=!0,t.exports.default=t.exports}(Tn),function(t){var e=Tn.exports;t.exports=function(t,r){if(null==t)return{};var n,o,i=e(t,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i},t.exports.__esModule=!0,t.exports.default=t.exports}(Ln);var Kn=c(Ln.exports),Cn={exports:{}};!function(t){function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}(Cn);var Mn=c(Cn.exports),Rn=Dt,Bn=pn(1);Rn(Rn.P+Rn.F*!vn([].map,!0),"Array",{map:function(t){return Bn(this,t,arguments[1])}});var Dn={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(t,e,r){var n=f;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===v){if("throw"===o)throw i;return F()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=j(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?v:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",y={};function d(){}function g(){}function b(){}var m={};u(m,i,(function(){return this}));var x=Object.getPrototypeOf,O=x&&x(x(I([])));O&&O!==r&&n.call(O,i)&&(m=O);var w=b.prototype=d.prototype=Object.create(m);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function j(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:F}}function F(){return{value:e,done:!0}}return g.prototype=b,u(w,"constructor",b),u(b,"constructor",g),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=I,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(Dn);var Un=Dn.exports,Vn={exports:{}};!function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}(Vn);var Gn=c(Vn.exports),Jn={exports:{}};!function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(Jn);var Hn=c(Jn.exports),qn=ne.exports("unscopables"),zn=Array.prototype;null==zn[qn]&&wt(zn,qn,{});var Wn=function(t){zn[qn][t]=!0},Yn=Dt,$n=pn(5),Qn=!0;"find"in[]&&Array(1).find((function(){Qn=!1})),Yn(Yn.P+Yn.F*Qn,"Array",{find:function(t){return $n(this,t,arguments.length>1?arguments[1]:void 0)}}),Wn("find");var Xn=nt,Zn=it,to=function(t,e){if(Zn(t),!Xn(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},eo={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return to(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:to},ro=nt,no=eo.set,oo=Dt,io=u,ao=at,co="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",uo="["+co+"]",so=RegExp("^"+uo+uo+"*"),lo=RegExp(uo+uo+"*$"),fo=function(t,e,r){var n={},o=ao((function(){return!!co[t]()||"​"!="​"[t]()})),i=n[t]=o?e(po):co[t];r&&(n[r]=i),oo(oo.P+oo.F*o,"String",n)},po=fo.trim=function(t,e){return t=String(io(t)),1&e&&(t=t.replace(so,"")),2&e&&(t=t.replace(lo,"")),t},ho=fo,vo=K.exports,yo=p,go=v,bo=function(t,e,r){var n,o=e.constructor;return o!==r&&"function"==typeof o&&(n=o.prototype)!==r.prototype&&ro(n)&&no&&no(t,n),t},mo=vt,xo=at,Oo=Re.f,wo=He.f,So=rt.f,ko=ho.trim,jo=vo.Number,Po=jo,_o=jo.prototype,Eo="Number"==go(Ce(_o)),Io="trim"in String.prototype,Fo=function(t){var e=mo(t,!1);if("string"==typeof e&&e.length>2){var r,n,o,i=(e=Io?e.trim():ko(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var a,c=e.slice(2),u=0,s=c.length;u<s;u++)if((a=c.charCodeAt(u))<48||a>o)return NaN;return parseInt(c,n)}}return+e};if(!jo(" 0o1")||!jo("0b1")||jo("+0x1")){jo=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof jo&&(Eo?xo((function(){_o.valueOf.call(r)})):"Number"!=go(r))?bo(new Po(Fo(e)),r,jo):Fo(e)};for(var No,Ao=ct?Oo(Po):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Lo=0;Ao.length>Lo;Lo++)yo(Po,No=Ao[Lo])&&!yo(jo,No)&&So(jo,No,wo(Po,No));jo.prototype=_o,_o.constructor=jo,St.exports(vo,"Number",jo)}var To={exports:{}};!function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(To);var Ko=c(To.exports),Co=rt.f,Mo=Function.prototype,Ro=/^\s*function ([^ (]*)/;"name"in Mo||ct&&Co(Mo,"name",{configurable:!0,get:function(){try{return(""+this).match(Ro)[1]}catch(t){return""}}});var Bo,Do,Uo=nt,Vo=v,Go=ne.exports("match"),Jo=it,Ho=Nt,qo=ne.exports("species"),zo=function(t,e){var r,n=Jo(t).constructor;return void 0===n||null==(r=Jo(n)[qo])?e:Ho(r)},Wo=w,Yo=u,$o=function(t){return function(e,r){var n,o,i=String(Yo(e)),a=Wo(r),c=i.length;return a<0||a>=c?t?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):n:t?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},Qo=$o(!0),Xo=v,Zo=ne.exports("toStringTag"),ti="Arguments"==Xo(function(){return arguments}()),ei=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Zo))?r:ti?Xo(e):"Object"==(n=Xo(e))&&"function"==typeof e.callee?"Arguments":n},ri=ei,ni=RegExp.prototype.exec,oi=it,ii=function(){var t=oi(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},ai=RegExp.prototype.exec,ci=String.prototype.replace,ui=ai,si=(Bo=/a/,Do=/b*/g,ai.call(Bo,"a"),ai.call(Do,"a"),0!==Bo.lastIndex||0!==Do.lastIndex),li=void 0!==/()??/.exec("")[1];(si||li)&&(ui=function(t){var e,r,n,o,i=this;return li&&(r=new RegExp("^"+i.source+"$(?!\\s)",ii.call(i))),si&&(e=i.lastIndex),n=ai.call(i,t),si&&n&&(i.lastIndex=i.global?n.index+n[0].length:e),li&&n&&n.length>1&&ci.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n});var fi=ui;Dt({target:"RegExp",proto:!0,forced:fi!==/./.exec},{exec:fi});var pi=St.exports,hi=wt,vi=at,yi=u,di=ne.exports,gi=fi,bi=di("species"),mi=!vi((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),xi=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}(),Oi=function(t){var e;return Uo(t)&&(void 0!==(e=t[Go])?!!e:"RegExp"==Vo(t))},wi=it,Si=zo,ki=function(t,e,r){return e+(r?Qo(t,e).length:1)},ji=j,Pi=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==ri(t))throw new TypeError("RegExp#exec called on incompatible receiver");return ni.call(t,e)},_i=fi,Ei=at,Ii=Math.min,Fi=[].push,Ni=!Ei((function(){RegExp(4294967295,"y")}));function Ai(t,e){var r=function(t){if(t instanceof File){var e=t.name;return e.substring(e.lastIndexOf(".")+1).toLowerCase()}throw new Error("传入的文件须是File对象")}(e),n=new Date,o=n.getFullYear(),i=n.getMonth()+1;i="".concat(i<10?0:"").concat(i);var a=n.getDate()+1;a="".concat(a<10?0:"").concat(a);var c=n.getTime(),u=Math.floor(1e6*Math.random()+1);return"".concat(t,"/").concat(o,"-").concat(i,"-").concat(a,"/").concat(c).concat(u,".").concat(r)}function Li(t){var e=t.Bucket,r=t.Key,n=t.fileInstance,o=t.endPoint,i=e||n.Bucket,a=r||n.fileInfo.Key;return o=o||"obs.cn-east-3.myhuaweicloud.com","https://".concat(i,".").concat(o,"/").concat(a)}function Ti(t){var e=t.split("://")[1]||"",r=e.indexOf("/"),n=e.substring(r+1,e.length),o=e.substring(0,r),i=o.indexOf(".");return{Bucket:o.substring(0,i),Key:n,endPoint:o.substring(i+1,o.length)}}function Ki(t){var e=t.blob,r=t.fileName,n=t.fileUrl;try{if(r=r||function(t){var e=t.split("/"),r=e.length;return r>0?e[r-1]:""}(n)||"附件",e&&window.navigator.msSaveOrOpenBlob)return void navigator.msSaveOrOpenBlob(e,r);var o=document.createElement("a");o.href=e?window.URL.createObjectURL(new Blob([e])):n,o.download=r,o.click(),window.URL.revokeObjectURL(o.href)}catch(t){console.log("error",t)}}function Ci(t){var e={};return t.map((function(t){var r=Ti(t),n=r.Bucket,o=r.Key,i=r.endPoint,a="".concat(n,"-").concat(i);e[a]&&e[a].objects&&e[a].objects.length>0?e[a].objects.push({Key:o}):e[a]={Bucket:n,endPoint:i,objects:[{Key:o}]}})),e}!function(t,e,r){var n=di(t),o=!vi((function(){var e={};return e[n]=function(){return 7},7!=""[t](e)})),i=o?!vi((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[bi]=function(){return r}),r[n](""),!e})):void 0;if(!o||!i||"replace"===t&&!mi||"split"===t&&!xi){var a=/./[n],c=r(yi,n,""[t],(function(t,e,r,n,i){return e.exec===gi?o&&!i?{done:!0,value:a.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),u=c[0],s=c[1];pi(String.prototype,t,u),hi(RegExp.prototype,n,2==e?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)})}}("split",2,(function(t,e,r,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!Oi(t))return r.call(n,t,e);for(var o,i,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,l=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,u+"g");(o=_i.call(f,n))&&!((i=f.lastIndex)>s&&(c.push(n.slice(s,o.index)),o.length>1&&o.index<n.length&&Fi.apply(c,o.slice(1)),a=o[0].length,s=i,c.length>=l));)f.lastIndex===o.index&&f.lastIndex++;return s===n.length?!a&&f.test("")||c.push(""):c.push(n.slice(s)),c.length>l?c.slice(0,l):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var i=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,i,n):o.call(String(i),r,n)},function(t,e){var i=n(o,t,this,e,o!==r);if(i.done)return i.value;var a=wi(t),c=String(this),u=Si(a,RegExp),s=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Ni?"y":"g"),f=new u(Ni?a:"^(?:"+a.source+")",l),p=void 0===e?4294967295:e>>>0;if(0===p)return[];if(0===c.length)return null===Pi(f,c)?[c]:[];for(var h=0,v=0,y=[];v<c.length;){f.lastIndex=Ni?v:0;var d,g=Pi(f,Ni?c:c.slice(v));if(null===g||(d=Ii(ji(f.lastIndex+(Ni?0:v)),c.length))===h)v=ki(c,v,s);else{if(y.push(c.slice(h,v)),y.length===p)return y;for(var b=1;b<=g.length-1;b++)if(y.push(g[b]),y.length===p)return y;v=h=d}}return y.push(c.slice(h)),y}]}));var Mi=["file","Bucket","module"],Ri=["file","Bucket","module"];function Bi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Di(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t&&Ko(t)!==String)throw new Error("请传入你想要查询的字段名，并且参数为字符串");return e[t]||t}var Ui=Hn((function t(e){var r,n=e.file,o=e.Bucket,i=e.module,a=Kn(e,Mi);Gn(this,t);var c=Ai(i,n);this.Key=c,this.row=n;var u=n.name,s=n.size,l=n.type,f=n.uuid,p=a.resFileKey;if(this.fileInfo=(An(r={},Di("id",p),f),An(r,Di("name",p),u),An(r,Di("size",p),s),An(r,Di("type",p),l),An(r,Di("percentage",p),0),An(r,Di("Key",p),c),An(r,Di("url",p),null),An(r,Di("status",p),1),r),this.Bucket=o,this.module=i,this.resumeHook=null,this.uploadCheckpoint=null,this.changingStatus=!1,this.obsInited=!1,this.uploadStatus=!1,this.uploadCount=1,a)for(var h in a)Object.hasOwnProperty.call(a,h)&&(this[h]=a[h])}));function Vi(t){try{var e=t||{},r=e.resFileKey,n=void 0===r?{}:r,o=e.fileInfo,i=void 0===o?{}:o;if(0===Object.keys(n))return;for(var a in i){var c=null;for(var u in n)if(n[u]===a){c=a;break}c||delete i[a]}}catch(t){console.log("handleResKey-error",t)}}function Gi(t){var e=t.file,r=t.Bucket,n=t.module,o=void 0===n?"member_center":n,i=Kn(t,Ri);return new Ui(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bi(Object(r),!0).forEach((function(e){An(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:e,Bucket:r,module:o},i))}var Ji=["file"];function Hi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var qi=function(){function t(){Gn(this,t),this.fileArr=[]}return Hn(t,[{key:"addUploadingFile",value:function(t){var e=Gi(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hi(Object(r),!0).forEach((function(e){An(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:t.file},Kn(t,Ji)));return this.fileArr.push(e),e}},{key:"getUploadingFiles",value:function(){return this.fileArr}},{key:"getFileInstance",value:function(t){return this.fileArr.find((function(e){return e.Key===t}))||{}}},{key:"delFileInstance",value:function(t){var e=-1,r=this.fileArr.find((function(r,n){if(r.Key===t)return e=n,r}))||{},n=r.fileInfo[Di("status",r.resFileKey)];return 1===Number(n)&&(r.fileInfo[Di("status",r.resFileKey)]=-1,r.resumeHook&&r.resumeHook.cancel()),e>=0&&this.fileArr.splice(e,1),e}}]),t}(),zi=ei,Wi={};Wi[ne.exports("toStringTag")]="z",Wi+""!="[object z]"&&St.exports(Object.prototype,"toString",(function(){return"[object "+zi(this)+"]"}),!0);var Yi={exports:{}},$i=it,Qi={},Xi=Qi,Zi=ne.exports("iterator"),ta=Array.prototype,ea=ei,ra=ne.exports("iterator"),na=Qi,oa=L.exports.getIteratorMethod=function(t){if(null!=t)return t[ra]||t["@@iterator"]||na[ea(t)]},ia=Lt,aa=function(t,e,r,n){try{return n?e($i(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&$i(o.call(t)),e}},ca=function(t){return void 0!==t&&(Xi.Array===t||ta[Zi]===t)},ua=it,sa=j,la=oa,fa={},pa={},ha=Yi.exports=function(t,e,r,n,o){var i,a,c,u,s=o?function(){return t}:la(t),l=ia(r,n,e?2:1),f=0;if("function"!=typeof s)throw TypeError(t+" is not iterable!");if(ca(s)){for(i=sa(t.length);i>f;f++)if((u=e?l(ua(a=t[f])[0],a[1]):l(t[f]))===fa||u===pa)return u}else for(c=s.call(t);!(a=c.next()).done;)if((u=aa(c,l,a.value,e))===fa||u===pa)return u};ha.BREAK=fa,ha.RETURN=pa;var va,ya,da,ga=Lt,ba=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)},ma=Ie,xa=ft,Oa=K.exports,wa=Oa.process,Sa=Oa.setImmediate,ka=Oa.clearImmediate,ja=Oa.MessageChannel,Pa=Oa.Dispatch,_a=0,Ea={},Ia=function(){var t=+this;if(Ea.hasOwnProperty(t)){var e=Ea[t];delete Ea[t],e()}},Fa=function(t){Ia.call(t.data)};Sa&&ka||(Sa=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return Ea[++_a]=function(){ba("function"==typeof t?t:Function(t),e)},va(_a),_a},ka=function(t){delete Ea[t]},"process"==v(wa)?va=function(t){wa.nextTick(ga(Ia,t,1))}:Pa&&Pa.now?va=function(t){Pa.now(ga(Ia,t,1))}:ja?(da=(ya=new ja).port2,ya.port1.onmessage=Fa,va=ga(da.postMessage,da,1)):Oa.addEventListener&&"function"==typeof postMessage&&!Oa.importScripts?(va=function(t){Oa.postMessage(t+"","*")},Oa.addEventListener("message",Fa,!1)):va="onreadystatechange"in xa("script")?function(t){ma.appendChild(xa("script")).onreadystatechange=function(){ma.removeChild(this),Ia.call(t)}}:function(t){setTimeout(ga(Ia,t,1),0)});var Na={set:Sa,clear:ka},Aa=K.exports,La=Na.set,Ta=Aa.MutationObserver||Aa.WebKitMutationObserver,Ka=Aa.process,Ca=Aa.Promise,Ma="process"==v(Ka),Ra={},Ba=Nt;function Da(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Ba(e),this.reject=Ba(r)}Ra.f=function(t){return new Da(t)};var Ua=K.exports.navigator,Va=Ua&&Ua.userAgent||"",Ga=it,Ja=nt,Ha=Ra,qa=St.exports,za=K.exports,Wa=rt,Ya=ct,$a=ne.exports("species"),Qa=ne.exports("iterator"),Xa=!1;try{var Za=[7][Qa]();Za.return=function(){Xa=!0},Array.from(Za,(function(){throw 2}))}catch(t){}var tc,ec,rc,nc,oc=K.exports,ic=Lt,ac=ei,cc=Dt,uc=nt,sc=Nt,lc=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t},fc=Yi.exports,pc=zo,hc=Na.set,vc=function(){var t,e,r,n=function(){var n,o;for(Ma&&(n=Ka.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(Ma)r=function(){Ka.nextTick(n)};else if(!Ta||Aa.navigator&&Aa.navigator.standalone)if(Ca&&Ca.resolve){var o=Ca.resolve(void 0);r=function(){o.then(n)}}else r=function(){La.call(Aa,n)};else{var i=!0,a=document.createTextNode("");new Ta(n).observe(a,{characterData:!0}),r=function(){a.data=i=!i}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,r()),e=o}}(),yc=Ra,dc=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},gc=Va,bc=function(t,e){if(Ga(t),Ja(e)&&e.constructor===t)return e;var r=Ha.f(t);return(0,r.resolve)(e),r.promise},mc=oc.TypeError,xc=oc.process,Oc=xc&&xc.versions,wc=Oc&&Oc.v8||"",Sc=oc.Promise,kc="process"==ac(xc),jc=function(){},Pc=ec=yc.f,_c=!!function(){try{var t=Sc.resolve(1),e=(t.constructor={})[require("./_wks")("species")]=function(t){t(jc,jc)};return(kc||"function"==typeof PromiseRejectionEvent)&&t.then(jc)instanceof e&&0!==wc.indexOf("6.6")&&-1===gc.indexOf("Chrome/66")}catch(t){}}(),Ec=function(t){var e;return!(!uc(t)||"function"!=typeof(e=t.then))&&e},Ic=function(t,e){if(!t._n){t._n=!0;var r=t._c;vc((function(){for(var n=t._v,o=1==t._s,i=0,a=function(e){var r,i,a,c=o?e.ok:e.fail,u=e.resolve,s=e.reject,l=e.domain;try{c?(o||(2==t._h&&Ac(t),t._h=1),!0===c?r=n:(l&&l.enter(),r=c(n),l&&(l.exit(),a=!0)),r===e.promise?s(mc("Promise-chain cycle")):(i=Ec(r))?i.call(r,u,s):u(r)):s(n)}catch(t){l&&!a&&l.exit(),s(t)}};r.length>i;)a(r[i++]);t._c=[],t._n=!1,e&&!t._h&&Fc(t)}))}},Fc=function(t){hc.call(oc,(function(){var e,r,n,o=t._v,i=Nc(t);if(i&&(e=dc((function(){kc?xc.emit("unhandledRejection",o,t):(r=oc.onunhandledrejection)?r({promise:t,reason:o}):(n=oc.console)&&n.error})),t._h=kc||Nc(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},Nc=function(t){return 1!==t._h&&0===(t._a||t._c).length},Ac=function(t){hc.call(oc,(function(){var e;kc?xc.emit("rejectionHandled",t):(e=oc.onrejectionhandled)&&e({promise:t,reason:t._v})}))},Lc=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Ic(e,!0))},Tc=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw mc("Promise can't be resolved itself");(e=Ec(t))?vc((function(){var n={_w:r,_d:!1};try{e.call(t,ic(Tc,n,1),ic(Lc,n,1))}catch(t){Lc.call(n,t)}})):(r._v=t,r._s=1,Ic(r,!1))}catch(t){Lc.call({_w:r,_d:!1},t)}}};_c||(Sc=function(t){lc(this,Sc,"Promise","_h"),sc(t),tc.call(this);try{t(ic(Tc,this,1),ic(Lc,this,1))}catch(t){Lc.call(this,t)}},(tc=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,r){for(var n in e)qa(t,n,e[n],r);return t}(Sc.prototype,{then:function(t,e){var r=Pc(pc(this,Sc));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=kc?xc.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&Ic(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),rc=function(){var t=new tc;this.promise=t,this.resolve=ic(Tc,t,1),this.reject=ic(Lc,t,1)},yc.f=Pc=function(t){return t===Sc||t===nc?new rc(t):ec(t)}),cc(cc.G+cc.W+cc.F*!_c,{Promise:Sc}),fe(Sc,"Promise"),function(t){var e=za[t];Ya&&e&&!e[$a]&&Wa.f(e,$a,{configurable:!0,get:function(){return this}})}("Promise"),nc=L.exports.Promise,cc(cc.S+cc.F*!_c,"Promise",{reject:function(t){var e=Pc(this);return(0,e.reject)(t),e.promise}}),cc(cc.S+cc.F*!_c,"Promise",{resolve:function(t){return bc(this,t)}}),cc(cc.S+cc.F*!(_c&&function(t,e){if(!e&&!Xa)return!1;var r=!1;try{var n=[7],o=n[Qa]();o.next=function(){return{done:r=!0}},n[Qa]=function(){return o},t(n)}catch(t){}return r}((function(t){Sc.all(t).catch(jc)}))),"Promise",{all:function(t){var e=this,r=Pc(e),n=r.resolve,o=r.reject,i=dc((function(){var r=[],i=0,a=1;fc(t,!1,(function(t){var c=i++,u=!1;r.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,r[c]=t,--a||n(r))}),o)})),--a||n(r)}));return i.e&&o(i.v),r.promise},race:function(t){var e=this,r=Pc(e),n=r.reject,o=dc((function(){fc(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return o.e&&n(o.v),r.promise}});var Kc=Ce,Cc=mt,Mc=fe,Rc={};wt(Rc,ne.exports("iterator"),(function(){return this}));var Bc=p,Dc=l,Uc=q("IE_PROTO"),Vc=Object.prototype,Gc=Object.getPrototypeOf||function(t){return t=Dc(t),Bc(t,Uc)?t[Uc]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Vc:null},Jc=Dt,Hc=St.exports,qc=wt,zc=Qi,Wc=function(t,e,r){t.prototype=Kc(Rc,{next:Cc(1,r)}),Mc(t,e+" Iterator")},Yc=fe,$c=Gc,Qc=ne.exports("iterator"),Xc=!([].keys&&"next"in[].keys()),Zc=function(){return this},tu=function(t,e,r,n,o,i,a){Wc(r,e,n);var c,u,s,l=function(t){if(!Xc&&t in v)return v[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},f=e+" Iterator",p="values"==o,h=!1,v=t.prototype,y=v[Qc]||v["@@iterator"]||o&&v[o],d=y||l(o),g=o?p?l("entries"):d:void 0,b="Array"==e&&v.entries||y;if(b&&(s=$c(b.call(new t)))!==Object.prototype&&s.next&&(Yc(s,f,!0),"function"!=typeof s[Qc]&&qc(s,Qc,Zc)),p&&y&&"values"!==y.name&&(h=!0,d=function(){return y.call(this)}),(Xc||h||!v[Qc])&&qc(v,Qc,d),zc[e]=d,zc[f]=Zc,o)if(c={values:p?d:l("values"),keys:i?d:l("keys"),entries:g},a)for(u in c)u in v||Hc(v,u,c[u]);else Jc(Jc.P+Jc.F*(Xc||h),e,c);return c},eu=$o(!0);tu(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=eu(e,r),this._i+=t.length,{value:t,done:!1})}));var ru=Wn,nu=function(t,e){return{value:e,done:!!t}},ou=Qi,iu=m,au=tu(Array,"Array",(function(t,e){this._t=iu(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,nu(1)):nu(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values");ou.Arguments=ou.Array,ru("keys"),ru("values"),ru("entries");for(var cu=au,uu=et,su=St.exports,lu=K.exports,fu=wt,pu=Qi,hu=ne.exports,vu=hu("iterator"),yu=hu("toStringTag"),du=pu.Array,gu={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},bu=uu(gu),mu=0;mu<bu.length;mu++){var xu,Ou=bu[mu],wu=gu[Ou],Su=lu[Ou],ku=Su&&Su.prototype;if(ku&&(ku[vu]||fu(ku,vu,du),ku[yu]||fu(ku,yu,Ou),pu[Ou]=du,wu))for(xu in cu)ku[xu]||su(ku,xu,cu[xu],!0)}var ju={};function Pu(t){var e=t.ak,r=t.sk,n=t.endPoint,o=t.Bucket,i=t.isRefresh,c=function(t){return t&&ju[t]}(o);if(c&&c.instance&&!i)return c.instance;c||(c=ju[o]={});var u=function(t){var e=t.ak,r=t.sk,n=t.endPoint,o=t.obsType;if(e=e||o.ak,r=r||o.sk,n=n||o.endPoint,!e||!r||!n)throw new Error("请传入".concat(e?"":"ak").concat(r?"":"sk").concat(n?"":"endPoint","值"));var i=new a.default({access_key_id:e,secret_access_key:r,server:"https://".concat(n),timeout:30});return o.ak=e,o.sk=r,o.endPoint=n,o.instance=i,i}({ak:e,sk:r,endPoint:n,obsType:c});return u}var _u=["file","onBeforeUpload","uploadSuccess","uploadError","uploadProgress","upFileArrInstance"];function Eu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Iu(t){var e=t.file,r=t.onBeforeUpload,n=t.uploadSuccess,o=t.uploadError,i=t.uploadProgress,a=t.upFileArrInstance,c=Kn(t,_u),u=a.addUploadingFile(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Eu(Object(r),!0).forEach((function(e){An(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Eu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:e},c));u.uploadSuccess=n,u.uploadError=o,u.uploadProgress=i;var s=u.Bucket;return u.module,r&&!1===r(u.row)&&Fu("文件上传前的回调函数（onBeforeUpload）返回了false则不进行文件上传"),{Bucket:s,Key:u.Key,fileInfo:u.fileInfo,fileObj:u.row}}function Fu(t,e){throw e&&(e.fileInfo[Di("status",e.resFileKey)]=2,e.uploadCount=1,e.changingStatus=!1,e.uploadStatus=!1,e.statusChange&&e.statusChange(2),e.uploadError&&e.uploadError(t,e.fileInfo[Di("status",e.resFileKey)])),new Error(t)}function Nu(t){return Au.apply(this,arguments)}function Au(){return Au=Mn(Un.mark((function t(e){var r,n,o,i,a,c;return Un.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.fileInstance,n=e.upFileArrInstance,o=e.endPoint,t.prev=1,i=r.beforeSuccess,t.t0=i,!t.t0){t.next=8;break}return t.next=7,i(r);case 7:t.t0=t.sent;case 8:a=t.t0,r.fileInfo[Di("status",r.resFileKey)]=3,c=Li({fileInstance:r,endPoint:o}),r.fileInfo[Di("url",r.resFileKey)]=c,r.uploadSuccess&&r.uploadSuccess(c,r.fileInfo[Di("status",r.resFileKey)],a),r.statusChange&&r.statusChange(3),Vi(r),n&&n.delFileInstance(r.Key),t.next=21;break;case 18:t.prev=18,t.t1=t.catch(1),console.log("上传成功处理函数error",t.t1);case 21:case"end":return t.stop()}}),t,null,[[1,18]])}))),Au.apply(this,arguments)}function Lu(t,e,r,n){var o=Math.floor(t/e*100),i=n.fileInfo.percentage;console.log("prevPercent,percentage",i,o),n.uploadCount=1,o>i&&(n.uploadCount=1);var a=i>o?i:o;n.fileInfo.percentage=a,n.uploadProgress&&n.uploadProgress(a)}function Tu(t){return Ku.apply(this,arguments)}function Ku(){return Ku=Mn(Un.mark((function t(e){var r,n,o;return Un.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.ak,n=e.sk,o=e.fileUrl,t.abrupt("return",new Promise(function(){var t=Mn(Un.mark((function t(e,i){var a,c,u,s;return Un.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return a=Ti(o),c=a.Bucket,u=a.Key,s=a.endPoint,t.next=5,Pu({Bucket:c,ak:r,sk:n,endPoint:s});case 5:t.sent.deleteObject({Bucket:c,Key:u},(function(t,r){t&&i(t),e(r.CommonMsg.Status)}));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)}))),Ku.apply(this,arguments)}function Cu(t,e,r){return Mu.apply(this,arguments)}function Mu(){return(Mu=Mn(Un.mark((function t(e,r,n){var o,i,a,c,u,s,l,f,p;return Un.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return");case 2:o=Ci(e),i=[],t.t0=Un.keys(o);case 5:if((t.t1=t.t0()).done){t.next=14;break}return a=t.t1.value,c=o[a]||{},u=c.Bucket,s=c.endPoint,l=c.objects,t.next=10,Pu({Bucket:u,ak:r,sk:n,endPoint:s});case 10:f=t.sent,i.push(Ru(f,u,l)),t.next=5;break;case 14:return t.next=16,Promise.all(i);case 16:return p=t.sent,t.abrupt("return",p);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ru(t,e,r){return new Promise((function(n,o){t.deleteObjects({Bucket:e,Quiet:!1,Objects:r},(function(t,e){if(t)console.log("删除异常",t),o(t);else if(e.CommonMsg.Status<300&&e.InterfaceResult){var r=e.InterfaceResult||{},i=r.Deleteds,a=r.Errors;n({Deleteds:i,Errors:a})}}))}))}function Bu(){return(Bu=Mn(Un.mark((function t(e){var r,n,o,a,c,u,s,l;return Un.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.fileUrl,n=e.fileName,o=e.ak,a=e.sk,t.prev=1,r){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Du({fileUrl:r,ak:o,sk:a});case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:if(c=t.t0,u=c.SignedUrl,s=c.ActualSignedRequestHeaders,u){t.next=14;break}throw new Error("没有获取到临时授权url");case 14:return t.next=16,i.default.request({method:"GET",url:u,withCredentials:!1,headers:s||{},validateStatus:function(t){return t>=200},maxRedirects:0,responseType:"blob"});case 16:if(!((l=t.sent).status<300)){t.next=20;break}return Ki({blob:l.data,fileUrl:r,fileName:n}),t.abrupt("return");case 20:throw new Error("临时授权文件下载失败");case 23:t.prev=23,t.t1=t.catch(1),Ki({fileUrl:r,fileName:n});case 26:case"end":return t.stop()}}),t,null,[[1,23]])})))).apply(this,arguments)}function Du(t){return Uu.apply(this,arguments)}function Uu(){return(Uu=Mn(Un.mark((function t(e){var r,n,o,i,a,c,u,s,l;return Un.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.fileUrl,n=e.ak,o=e.sk,i=Ti(r),a=i.Bucket,c=i.Key,u=i.endPoint,t.next=4,Pu({Bucket:a,ak:n,sk:o,endPoint:u});case 4:return s=t.sent,l=s.createSignedUrlSync({Method:"GET",Bucket:a,Key:c,Expires:3600}),t.abrupt("return",l);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vu(Object(r),!0).forEach((function(e){An(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ju(t){return Hu.apply(this,arguments)}function Hu(){return Hu=Mn(Un.mark((function t(e){var r,n,o,i,a,c,u,s,l,f,p,h,v;return Un.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.fileParams,n=void 0===r?{}:r,o=e.fileInstance,i=e.Key,a=e.upFileArrInstance,c=e.beforeSuccess,o=o||a.getFileInstance(i||n.Key),c&&(o.beforeSuccess=c),t.prev=3,!o.obsInited||Wu(o).createInterf){t.next=6;break}return t.abrupt("return");case 6:return o.uploadStatus=!0,l=(s=o).Bucket,f=s.ak,p=s.sk,h=s.endPoint,t.next=10,Pu({ak:f,sk:p,endPoint:h,Bucket:l,isRefresh:!0});case 10:if(v=t.sent,console.log("obsInstance",v),o.uploadStatus=!1,Wu(o,!0).createInterf){t.next=16;break}return o.obsInited||-1!==o.toStatusVal||(console.log("进入-没有初始化成功过"),zu(o)),t.abrupt("return");case 16:o.uploadStatus=!0,v.uploadFile(Gu({ProgressCallback:function(t,e,r){console.log("进入ProgressCallback111"),o.fileInfo[Di("status",o.resFileKey)]=1,console.log("进入ProgressCallback"),Lu(t,e,0,o)},EventCallback:function(t,e,r){if(console.log("处理事件响应-eventType",t),console.log("处理事件响应-eventParam",e),console.log("处理事件响应-eventResult",r),console.log("eventResult",r instanceof Error),r instanceof Error){console.log("errMsg",r.message);var n=r.message;-1!==n.indexOf("Network Error")&&Fu(n,o)}},ResumeCallback:function(t,e){o.resumeHook=t,o.uploadCheckpoint=e,u=e,console.log("fileInstance.toStatusVal",o.toStatusVal),-1===o.toStatusVal?t.cancel():(o.changingStatus&&o.toStatusVal&&zu(o),o.toStatusVal=void 0),o.obsInited=!0,console.log("ResumeCallback-fileInstance",o)},TaskNum:6,PartSize:9437184},n),(function(t,e){if(o.changingStatus=!1,o.uploadStatus=!1,console.log("err,result,fileInstance",t,e,JSON.parse(JSON.stringify(o))),t){var r=JSON.parse(JSON.stringify(a.getFileInstance(i||n.Key)));if(console.log("err,newfileInstance",JSON.parse(JSON.stringify(r))),!r||!r.fileInfo)return void console.log("进入解决被删除的情况");if(-1===r.toStatusVal)return zu(o),o.uploadStatus=!1,void(o.toStatusVal=void 0);if(3===Number(o.fileInfo[Di("status",o.resFileKey)]))return;var c=Number(o.uploadCount);console.log("出现错误，再次调用断点续传接口，继续上传任务",c),c<3?(Ju({fileParams:{UploadCheckpoint:u},fileInstance:o,Key:i,upFileArrInstance:a}),o.uploadCount=c+1):Fu(t,o)}else e&&e.CommonMsg&&200==e.CommonMsg.Status&&(console.log("成功",a),Nu({fileInstance:o,upFileArrInstance:a,endPoint:v.util.server}))})),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(3),console.log("上传报错",t.t0),Fu(t.t0,o);case 24:return t.prev=24,t.finish(24);case 26:case"end":return t.stop()}}),t,null,[[3,20,24,26]])}))),Hu.apply(this,arguments)}function qu(t){var e=t.Key,r=t.upFileArrInstance;if(console.log("暂停/续传文件",r),e){var n=r.getFileInstance(e),o=n.fileInfo,i=n.uploadCheckpoint,a=n.resumeHook,c=n.Bucket,u=n.row,s=Number(o.status);return console.log("续传文件status",JSON.parse(JSON.stringify(n))),3===s||!s||n.changingStatus?s:(n.changingStatus=!0,-1===s||2===s?(n.toStatusVal=1,n.uploadCount=1,console.log("恢复上传-payUpload",i),i?function(t){var e=t.uploadCheckpoint,r=t.fileInstance,n=t.upFileArrInstance,o=t.Key;if(!e)return;console.log("恢复上传"),Ju({fileParams:{UploadCheckpoint:e},Key:o,fileInstance:r,upFileArrInstance:n})}({uploadCheckpoint:i,fileInstance:n,upFileArrInstance:r,Key:e}):Ju({fileParams:{Bucket:c,Key:e,SourceFile:u},Key:e,upFileArrInstance:r})):function(t,e){if(console.log("暂停上传",e),-1==e.toStatusVal)return;e.toStatusVal=-1,t&&t.cancel(),console.log("暂停上传-fileInstance",JSON.parse(JSON.stringify(e)))}(a,n))}}function zu(t){t.fileInfo[Di("status",t.resFileKey)]=t.toStatusVal,t.changingStatus=!1,t.statusChange&&t.statusChange(t.toStatusVal)}function Wu(t,e){return console.log("进入uploadFileObsServe",JSON.parse(JSON.stringify(t))),-1===t.toStatusVal?(console.log("进入暂停-uploadFileObsServe"),e&&(t.fileInfo[Di("status",t.resFileKey)]=t.toStatusVal),t.toStatusVal=void 0,t.changingStatus=!1,{createInterf:!1,uploadStatus:!1}):1==t.toStatusVal&&t.uploadStatus?(console.log("文件处于上传中的状态时，有接口请求尚未结束-uploadFileObsServe",JSON.parse(JSON.stringify(t))),{createInterf:!1,uploadStatus:!0}):{createInterf:!0,uploadStatus:!0}}var Yu={breakpointResume:{uploadFun:function(t){var e=t.Bucket,r=t.fileObj,n=t.Key;Ju({fileParams:{Bucket:e,Key:n,SourceFile:r},Key:n,obsInstance:t.obsInstance,upFileArrInstance:t.upFileArrInstance})}}};var $u=["file","onBeforeUpload","uploadSuccess","uploadError","uploadProgress"];function Qu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var Xu=new qi;function Zu(){return(Zu=Mn(Un.mark((function t(e){var r,n,o,i,a;return Un.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.Key,n=e.fileUrl,o=e.ak,i=e.sk,t.prev=1,!r||n){t.next=7;break}if(-1!==Xu.delFileInstance(r)){t.next=6;break}throw new Error("文件不存在");case 6:return t.abrupt("return",200);case 7:return t.next=9,Tu({ak:o,sk:i,fileUrl:n});case 9:return a=t.sent,t.abrupt("return",a);case 13:throw t.prev=13,t.t0=t.catch(1),new Error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}function ts(){return(ts=Mn(Un.mark((function t(e){var r,n,o,i,a,c,u,s;return Un.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.KeyList,n=void 0===r?[]:r,o=e.urlList,i=void 0===o?[]:o,a=e.ak,c=e.sk,t.prev=1,u=[],s=[],n&&n.length>0&&n.map((function(t){-1===Xu.delFileInstance(t)?console.log("删除本地正在上传的文件-Key:".concat(t,"不存在")):u.push({Key:t})})),t.next=7,Cu(i,a,c);case 7:if(t.t0=t.sent,t.t0){t.next=10;break}t.t0=[];case 10:return t.t0.map((function(t){var e=t.Deleteds,r=t.Errors;u=u.concat(e),s=s.concat(r)})),t.abrupt("return",{delSuccess:u,delError:s});case 15:throw t.prev=15,t.t1=t.catch(1),new Error(t.t1);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}var es=o.default.debounce((function(t){qu({Key:t,upFileArrInstance:Xu})}),100);exports.breakpointResume=es,exports.delFile=function(t){return Zu.apply(this,arguments)},exports.downloadFile=function(t){return Bu.apply(this,arguments)},exports.getBucketAndKeyByUrl=Ti,exports.getSignedFileUrl=Du,exports.multiDelFile=function(t){return ts.apply(this,arguments)},exports.uploadFile=function(t){var e=t.file,r=t.onBeforeUpload,n=t.uploadSuccess,o=t.uploadError,i=t.uploadProgress,a=Kn(t,$u),c=Iu(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qu(Object(r),!0).forEach((function(e){An(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({file:e,onBeforeUpload:r,uploadSuccess:n,uploadError:o,uploadProgress:i,upFileArrInstance:Xu},a)),u=c.Bucket,s=c.Key,l=c.fileInfo,f=c.fileObj;return function(t){var e=t.uploadType,r=t.Bucket,n=t.Key,o=t.fileObj,i=t.upFileArrInstance;(0,(Yu[e=e||"breakpointResume"]||Yu.breakpointResume||{}).uploadFun)({Bucket:r,fileObj:o,Key:n,upFileArrInstance:i})}({uploadType:a.uploadType,Bucket:u,Key:s,fileObj:f,upFileArrInstance:Xu}),console.log("fileInfo",l),l};
